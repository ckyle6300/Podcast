{"version":3,"file":"static/js/32.ed84c564.chunk.js","mappings":"gSACA,EAAuB,qB,SCSjBA,EAAS,SAACC,GACd,IAAMC,GAAUC,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMC,eACrCC,EAAsCJ,EAAtCI,QAASC,EAA6BL,EAA7BK,QAASC,EAAoBN,EAApBM,MAAOC,EAAaP,EAAbO,SACjC,GAA4BC,EAAAA,EAAAA,YAA5B,eAAOC,EAAP,KAAeC,EAAf,KA6DA,OA3DAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAO,mCAAG,uFACA,KAAVN,EADU,iCAGJO,EAAS,CACbC,IAAKV,EAAQW,aACbC,MAAOZ,EAAQa,UACfC,MAAOd,EAAQc,MACfC,OAAQd,EAAQa,MAChBE,SAAUhB,EAAQgB,SAClBb,SAAUA,EAASc,KAAI,SAACC,EAAMC,GAC5B,OAAIA,IAAMhB,EAASiB,OAAS,GACnB,kBAAKF,GAAZ,IAAkBG,QAASrB,EAAQgB,YAG9B,kBAAKE,GAAZ,IAAkBG,QAASlB,EAASgB,EAAI,GAAGG,gBAdrC,SAiBJjB,EAAOkB,OAAOd,GAjBV,uDAmBVe,QAAQC,IAAR,MAnBU,6CAwBA,IAAVvB,EAxBU,kCAyBNwB,IAAAA,IAAaC,KAzBP,8BA2BVrB,EA3BU,UA4BF,IAAIoB,IAAJ,CAAa,CACjBE,UAAWC,SAASC,eAAe,WACnCC,MAAO,CACLrB,IAAKV,EAAQW,aACbC,MAAOZ,EAAQa,UACfC,MAAOd,EAAQc,MACfC,OAAQd,EAAQa,MAChBE,SAAUhB,EAAQgB,SAClBb,SAAUA,EAASc,KAAI,SAACC,EAAMC,GAC5B,OAAIA,IAAMhB,EAASiB,OAAS,GACnB,kBAAKF,GAAZ,IAAkBG,QAASrB,EAAQgB,YAG9B,kBAAKE,GAAZ,IAAkBG,QAASlB,EAASgB,EAAI,GAAGG,gBAG/CU,MAAO,OACPC,aAAc,CAAC,IAAM,EAAG,KAAM,IAAK,KAAM,EAAG,MAC5CC,UAAU,IA9CJ,uJAAH,qDAuDb1B,MACC,CAACR,KAGF,UAAC,KAAD,YACE,SAAC,KAAD,UAAaL,EAAMwC,YACnB,SAAC,KAAD,CACEC,SAAS,OACTC,UAAWC,EACXC,GAAG,gBAKX,EAAeC,EAAAA,KAAW9C","sources":["webpack://frontend/./src/pages/Layout.module.css?c45a","pages/Layout.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"foot\":\"Layout_foot__fuDQ7\"};","import React from 'react';\nimport { IonContent, IonFooter, IonPage } from '@ionic/react';\nimport 'shikwasa/dist/shikwasa.min.css';\nimport Shikwasa from 'shikwasa';\nimport Chapter from 'shikwasa/dist/shikwasa.chapter.cjs';\nimport 'shikwasa/dist/shikwasa.chapter.css';\nimport { useSelector } from 'react-redux';\nimport { useEffect, useState } from 'react';\nimport styles from './Layout.module.css';\n\nconst Layout = (props) => {\n  const podInfo = useSelector((state) => state.podcastInfo);\n  const { episode, podcast, count, chapters } = podInfo;\n  const [player, setPlayer] = useState();\n\n  useEffect(() => {\n    const runCode = async () => {\n      if (count === 10) {\n        try {\n          const TAudio = {\n            src: episode.enclosureUrl,\n            cover: episode.feedImage,\n            title: episode.title,\n            artist: podcast.title,\n            duration: episode.duration,\n            chapters: chapters.map((chap, i) => {\n              if (i === chapters.length - 1) {\n                return { ...chap, endTime: episode.duration };\n              }\n\n              return { ...chap, endTime: chapters[i + 1].startTime };\n            }),\n          };\n          await player.update(TAudio);\n        } catch (err) {\n          console.log(err);\n        }\n        return;\n      }\n\n      if (count === 5) {\n        await Shikwasa.use(Chapter);\n        try {\n          setPlayer(\n            await new Shikwasa({\n              container: document.getElementById('players'),\n              audio: {\n                src: episode.enclosureUrl,\n                cover: episode.feedImage,\n                title: episode.title,\n                artist: podcast.title,\n                duration: episode.duration,\n                chapters: chapters.map((chap, i) => {\n                  if (i === chapters.length - 1) {\n                    return { ...chap, endTime: episode.duration };\n                  }\n\n                  return { ...chap, endTime: chapters[i + 1].startTime };\n                }),\n              },\n              theme: 'dark',\n              speedOptions: [0.75, 1, 1.25, 1.5, 1.75, 2, 2.25],\n              autoplay: true,\n            })\n          );\n        } catch (error) {\n          // console.log(error, 'hello');\n        }\n      }\n    };\n\n    runCode();\n  }, [episode]);\n\n  return (\n    <IonPage>\n      <IonContent>{props.children}</IonContent>\n      <IonFooter\n        collapse='fade'\n        className={styles.foot}\n        id='players'\n      ></IonFooter>\n    </IonPage>\n  );\n};\nexport default React.memo(Layout);\n"],"names":["Layout","props","podInfo","useSelector","state","podcastInfo","episode","podcast","count","chapters","useState","player","setPlayer","useEffect","runCode","TAudio","src","enclosureUrl","cover","feedImage","title","artist","duration","map","chap","i","length","endTime","startTime","update","console","log","Shikwasa","Chapter","container","document","getElementById","audio","theme","speedOptions","autoplay","children","collapse","className","styles","id","React"],"sourceRoot":""}