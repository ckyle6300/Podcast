(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[518],{4575:function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},3913:function(t){function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},9225:function(t,e,n){"use strict";var i=n(4575).default,a=n(3913).default;function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var o;function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,i=e.offsetWidth-t.offsetWidth;if(i>0){t.setAttribute("data-overflow","");var a=e.offsetWidth/n;t.style.animationDuration="".concat(a,"s")}else t.removeAttribute("data-overflow")}function c(t){t.tag=t.tag||"div";var e=document.createElement(t.tag);return t.className&&("string"===typeof t.className?e.classList.add(t.className):t.className.forEach((function(t){e.classList.add(t)}))),t.attrs&&Object.keys(t.attrs).forEach((function(n){e.setAttribute(n,t.attrs[n])})),t.innerHTML&&(e.innerHTML=t.innerHTML),e}function l(t,e,n,i,a,s){var r=(t-e)/1e3/n;s.scrollTop=i+a*r,r<1&&window.requestAnimationFrame((function(t){l(t,e,n,i,a,s)}))}var d=function(){function t(e){i(this,t),this.ctx=e,this.list=[],this.initEvents(),this.current=null,this._currentSrc=null,this._chapterPatched=!1}return a(t,[{key:"init",value:function(){var t=this;this.patchPlayer(),this.ui=new h(this.ctx),this.ctx.on("chapterchange",(function(e){var n=e&&e.newVal?e.newVal.id:null;t.ui.setChapterActive(n)}))}},{key:"initEvents",value:function(){var t=this;this.ctx.on("audioupdate",(function(e){t._chapterPatched||(t.init(),t._chapterPatched=!0),t.updateList(e)})),this.ctx.on("audioparse",(function(e){t.updateList(e)})),this.ctx.on("timeupdate",this.onTimeupdate.bind(this))}},{key:"clearList",value:function(){this.ui.chapterList.innerHTML="",this.list=[],this.current=null}},{key:"updateList",value:function(t){this.list.length&&this.clearList(),t.chapters.length&&(this.list=this.handleChapters(t),this.ui.renderChapterList(this.ctx.chapters),this.clickChapterHandler()),this.ui.handleChapterPanel(this.ctx,t)}},{key:"handleChapters",value:function(t){if(t.chapters&&t.chapters.length)return t.chapters.map((function(t,e){return/^ch\d+$/.test(t.id)||(t.id="ch".concat(e)),t}))}},{key:"patchPlayer",value:function(){var t=this;Object.defineProperties(this.ctx,{chapters:{get:function(){return t.list}},currentChapter:{get:function(){return t.current}}}),this.ctx.events.playerEvents.push("chapterchange"),this.ctx.updateChapter=function(t){this.setCurrent(this.list[t]),this.ctx.seek(this.current.startTime),this.ctx.play()}.bind(t)}},{key:"setCurrent",value:function(t){var e=this.current?function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.current):null;this.current=t,this.ctx.events.trigger("chapterchange",{newVal:this.current,oldVal:e})}},{key:"onTimeupdate",value:function(t){var e=this;if(this._currentSrc===t.currentTarget.src){var n=this.searchDirection(this.ctx.currentTime,this.current);if(n){var i=this.list.indexOf(this.current),a=(-1===i?this.list:1===n?this.list.slice(i):this.list.slice(0,i+1)).find((function(t){return!e.searchDirection(e.ctx.currentTime,t)}));this.setCurrent(a)}}else this._currentSrc=t.currentTarget.src}},{key:"searchDirection",value:function(t,e){return t=Math.round(t),!e||"object"!==typeof e||e.endTime<=t?1:e.startTime>t?-1:0}},{key:"clickChapterHandler",value:function(){var t=this;Array.from(this.ui.chapterList.children).forEach((function(e){e.addEventListener("click",(function(){if(t.ctx.seekable){var n=e.getAttribute("data-id").match(/\d+$/);n&&t.ctx.updateChapter(+n[0])}}))}))}},{key:"destroy",value:function(){this.ui.destroy()}}]),t}(),h=function(){function t(e,n){i(this,t),this.initEl(e),this.initEvents(e,n),this.renderChapterList(e.chapters),e.ui.el.append(this.el),this.activeChapterEl=null}return a(t,[{key:"initEl",value:function(t){this.el=c({className:"shk-chapter",innerHTML:'\n  <div class="shk-chapter_main">\n    <ol class="shk-chapter_list"></ol>\n  </div>\n  <button class="shk-btn shk-btn_close" aria-label="close chapter panel" title="close chapter panel">\n    <svg class="shk-icon_close" aria-hidden="true">\n      <use xlink:href="#shk-icon_close" />\n    </svg>\n  </button>\n'});var e={title:"view chapters","aria-label":"view chapters"};t.seekable||(e.disabled=""),this.chapterBtn=c({tag:"button",className:["shk-btn","shk-btn_chapter"],attrs:e,innerHTML:'\n        <svg aria-hidden="true">\n          <use xlink:href="#shk-icon_chapter" />\n        </svg>\n      '}),t.ui.seekControls.push(this.chapterBtn),t.ui.extraControls.append(this.chapterBtn),this.closeBtn=this.el.querySelector(".shk-btn_close"),this.chapterList=this.el.querySelector(".shk-chapter_list"),this.overflowLayer=this.el.querySelector(".shk-chapter_main")}},{key:"initEvents",value:function(t){var e=this;this.chapterBtn.addEventListener("click",(function(){var e,n;e=t.el,n="data-show-chapter","function"!==typeof e.toggleAttribute?e.hasAttribute(n)?e.removeAttribute(n):e.setAttribute(n,""):e.toggleAttribute(n)})),t.ui.hideExtraControl(this.chapterBtn),this.closeBtn.addEventListener("click",(function(){t.el.removeAttribute("data-show-chapter")})),o=function(){if(e.activeChapterEl){var t=e.activeChapterEl.querySelector(".shk-chapter_title_wrap"),n=e.activeChapterEl.querySelector(".shk-chapter_title");u.call(e,t,n)}},window.addEventListener("resize",o)}},{key:"handleChapterPanel",value:function(t,e){e.chapters.length?t.el.setAttribute("data-has-chapter",""):t.el.removeAttribute("data-has-chapter"),e.chapters.length&&t.seekable||t.el.removeAttribute("data-show-chapter")}},{key:"renderChapterList",value:function(t){var e=this;t.length&&t.forEach((function(t){var n=e.renderChapterItem(t);e.chapterList.append(n)}))}},{key:"renderChapterItem",value:function(t){var e=function(t){t=Math.round(t);var e=Math.floor(t/3600),n=Math.floor((t-3600*e)/60),i=Math.floor(t-3600*e-60*n);return n=n<10?"0"+n:n,i=i<10?"0"+i:i,0===e?"".concat(n,":").concat(i):"".concat(e=e<10?"0"+e:e,":").concat(n,":").concat(i)}(t.startTime);return c({tag:"li",className:"shk-chapter_item",innerHTML:'\n      <button class="shk-btn shk-chapter_btn" title="seek chapter: '.concat(t.title,'" aria-label="seek chapter: ').concat(t.title,'">\n        <div class="shk-icon_chapter" aria-hidden="true">\n          <span class="shk-icon_playing"></span>\n          <span class="shk-icon_triangle">\n            <svg>\n              <use xlink:href="#shk-icon_triangle" />\n            </svg>\n          </span>\n        </div>\n        <div class="shk-chapter_duration">').concat(e,'</div>\n        <div class="shk-chapter_title_wrap">\n          <div class="shk-chapter_title_inner" data-chapter="').concat(t.title,'">\n            <div class="shk-chapter_title">').concat(t.title,"</div>\n          </div>\n        </div>\n      </button>\n    "),attrs:{"data-id":t.id}})}},{key:"setChapterActive",value:function(t){var e=this;this.chapterList.querySelectorAll(".shk-chapter_item").forEach((function(n){if(n.getAttribute("data-id")===t){n.setAttribute("data-active",""),e.scrollIntoView(n),e.activeChapterEl=n;var i=n.querySelector(".shk-chapter_title");u(n.querySelector(".shk-chapter_title_wrap"),i)}else n.removeAttribute("data-active")}))}},{key:"scrollIntoView",value:function(t){if("hidden"!==this.el.style.visibility){var e=window.getComputedStyle(this.overflowLayer).marginTop,n=window.getComputedStyle(this.chapterList).marginTop,i=parseInt(e)+parseInt(n),a=this.overflowLayer.scrollTop+i-t.offsetTop>0||t.offsetTop-this.overflowLayer.scrollTop-this.overflowLayer.offsetHeight>0,s=this.overflowLayer.scrollTop,r=t.offsetTop-s-i,o=performance.now();a&&l(o,o,.2,s,r,this.overflowLayer)}}},{key:"destroy",value:function(){window.removeEventListener("resize",o)}}]),t}();d._name="chapter",t.exports=d},970:function(t,e,n){"use strict";var i=n(4575).default,a=n(3913).default,s=n(7757);function r(t,e,n,i,a,s,r){try{var o=t[s](r),u=o.value}catch(c){return void n(c)}o.done?e(u):Promise.resolve(u).then(i,a)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var s=t.apply(e,n);function o(t){r(s,i,a,o,u,"next",t)}function u(t){r(s,i,a,o,u,"throw",t)}o(void 0)}))}}var u={container:function(){return document.querySelector("body")},parser:null,fixed:{type:"auto",position:"bottom"},download:!1,themeColor:"#0d6efd",theme:"auto",autoPlay:!1,muted:!1,preload:"metadata",speedOptions:[.5,.75,1,1.25,1.5],audio:null},c={fixedOptions:["auto","static","fixed"],audioOptions:{title:"Unknown Title",artist:"Unknown Artist",duration:NaN,cover:null,chapters:[],src:null,album:"",live:!1}};function l(t){t=Math.round(t);var e=Math.floor(t/3600),n=Math.floor((t-3600*e)/60),i=Math.floor(t-3600*e-60*n);return n=n<10?"0"+n:n,i=i<10?"0"+i:i,0===e?"".concat(n,":").concat(i):"".concat(e=e<10?"0"+e:e,":").concat(n,":").concat(i)}function d(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,i=e.offsetWidth-t.offsetWidth;if(i>0){t.setAttribute("data-overflow","");var a=e.offsetWidth/n;t.style.animationDuration="".concat(a,"s")}else t.removeAttribute("data-overflow")}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},t);return Object.keys(c.audioOptions).forEach((function(t){n[t]=n[t]||e[t]||c.audioOptions[t]})),n}function v(){return v=o(s.mark((function t(){var e,n,i,a,r,o=arguments;return s.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:{},n=o.length>1&&void 0!==o[1]?o[1]:{},t.next=4,p(e.src,n);case 4:if(t.t0=t.sent,t.t0){t.next=7;break}t.t0={};case 7:return i=t.t0,a=i.tags,r=f(a),t.abrupt("return",h(e,r));case 11:case"end":return t.stop()}}),t)}))),v.apply(this,arguments)}function p(t,e){return new Promise((function(n,i){e.read(t,{onSuccess:n,onError:i})}))}function f(){var t,e,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=i.title,s=i.artist;if(i.picture&&i.picture.data&&i.picture.format){var r=new Uint8Array(i.picture.data),o=new Blob([r],{type:i.picture.format});t=URL.createObjectURL(o)}return i.TLEN&&i.TLEN.data&&(n=+i.TLEN.data/1e3),i.CHAP&&i.CHAP.length&&(e=i.CHAP.filter((function(t){return"CHAP"===t.id})).map((function(t){return!!(t.data&&t.data.subFrames&&t.data.subFrames.TIT2)&&{id:t.data.id,startTime:t.data.startTime/1e3,endTime:t.data.endTime/1e3,title:t.data.subFrames.TIT2.data}})).sort((function(t,e){return t.id-e.id}))),{title:a,artist:s,cover:t,duration:n,chapters:e}}function k(t){t.tag=t.tag||"div";var e=document.createElement(t.tag);return t.className&&("string"===typeof t.className?e.classList.add(t.className):t.className.forEach((function(t){e.classList.add(t)}))),t.attrs&&Object.keys(t.attrs).forEach((function(n){e.setAttribute(n,t.attrs[n])})),t.innerHTML&&(e.innerHTML=t.innerHTML),e}function m(t,e){"function"!==typeof t.toggleAttribute?t.hasAttribute(e)?t.removeAttribute(e):t.setAttribute(e,""):t.toggleAttribute(e)}function b(t,e){var n=!0,i=!1,a=null;function s(t){return!!(t&&t!==document&&"HTML"!==t.nodeName&&"BODY"!==t.nodeName&&"classList"in t&&"contains"in t.classList)}function r(t){t.classList.contains("focus-visible")||(t.classList.add("focus-visible"),t.setAttribute("data-focus-visible-added",""))}function o(){n=!1}function u(){t.addEventListener("mousemove",c),t.addEventListener("mousedown",c),t.addEventListener("mouseup",c),t.addEventListener("pointermove",c),t.addEventListener("pointerdown",c),t.addEventListener("pointerup",c),t.addEventListener("touchmove",c,!!e&&{passive:!0}),t.addEventListener("touchstart",c,!!e&&{passive:!0}),t.addEventListener("touchend",c,!!e&&{passive:!0})}function c(){var i;n=!1,t.removeEventListener("mousemove",c),t.removeEventListener("mousedown",c),t.removeEventListener("mouseup",c),t.removeEventListener("pointermove",i),t.removeEventListener("pointerdown",c),t.removeEventListener("pointerup",c),t.removeEventListener("touchmove",c,!!e&&{passive:!0}),t.removeEventListener("touchstart",c,!!e&&{passive:!0}),t.removeEventListener("touchend",c,!!e&&{passive:!0})}t.addEventListener("keydown",(function(e){e.metaKey||e.altKey||e.ctrlKey||(s(document.activeElement)&&t.contains(document.activeElement)&&r(document.activeElement),n=!0)}),!0),t.addEventListener("mousedown",o,!0),t.addEventListener("pointerdown",o,!0),t.addEventListener("touchstart",o,!e||{passive:!0,capture:!0}),t.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&(i&&(n=!0),u())}),!0),u(),t.addEventListener("focus",(function(t){s(t.target)&&n&&r(t.target)}),!0),t.addEventListener("blur",(function(t){var e;s(t.target)&&(t.target.classList.contains("focus-visible")||t.target.hasAttribute("data-focus-visible-added"))&&(i=!0,window.clearTimeout(a),a=window.setTimeout((function(){i=!1}),100),(e=t.target).hasAttribute("data-focus-visible-added")&&(e.classList.remove("focus-visible"),e.removeAttribute("data-focus-visible-added")))}),!0),t.classList.add("js-focus-visible")}var y,g=null,w=!0,_=function(){function t(e){i(this,t),this.mounted=!1,document.querySelector(".shk-icons")||(this.icons=k({className:"shk-icons",innerHTML:'\n  <svg class="shk-icons" xmlns="http://www.w3.org/2000/svg">\n    <symbol id="shk-icon_play" viewbox="0 0 64 64">\n      <path\n        d="M32 0a32 32 0 1 1 0 64 32 32 0 0 1 0-64zm-9 17.8c-1 0-1.7.6-1.7 1.4v25.6c0 .8.8 1.4 1.7 1.4 0 0 25-12 26.2-13.1 1-1 .3-1.9.1-2.1z" />\n    </symbol>\n\n    <symbol id="shk-icon_pause" viewbox="0 0 64 64">\n      <path fill-rule="nonzero"\n        d="M32 0a32 32 0 1 0 0 64 32 32 0 0 0 0-64zm-4 40a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V24c0-1.1.9-2 2-2h4a2 2 0 0 1 2 2v16zm16 0a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V24c0-1.1.9-2 2-2h4a2 2 0 0 1 2 2v16z" />\n    </symbol>\n\n    <symbol id="shk-icon_download" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">\n      <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3" />\n    </symbol>\n\n    <symbol id="shk-icon_forward" viewbox="0 0 128 139">\n      <path\n        d="M64 11v14h-.8A50 50 0 1 0 114 75h14a64 64 0 1 1-64-64zm16.9 35c6.6 0 11.8 2.7 15.6 8.3a38 38 0 0 1 5.3 21.4c0 9-1.8 16-5.3 21.3-3.8 5.6-9 8.4-15.6 8.4-6.7 0-12-2.8-15.6-8.4A38 38 0 0 1 60 75.7c0-9 1.8-16.1 5.3-21.4C69 48.7 74.2 46 80.9 46zm-32.5 1v57.1H39V58.3a32.3 32.3 0 0 1-13 7V56a34 34 0 0 0 15.4-9h7zm32.5 7c-4.6 0-7.8 2.4-9.6 7.5-1.3 3.5-2 8.2-2 14.2 0 5.9.7 10.6 2 14.1 1.8 5 5 7.6 9.6 7.6 4.5 0 7.7-2.5 9.6-7.6 1.3-3.5 1.9-8.2 1.9-14.1 0-6-.6-10.7-2-14.2-1.8-5.1-5-7.6-9.5-7.6zM64 0l48 19-48 19V0z" />\n    </symbol>\n\n    <symbol id="shk-icon_backward" viewbox="0 0 128 139">\n      <path\n        d="M64 0v11A64 64 0 1 1 0 75h14a50 50 0 1 0 50-50v13L16 19 64 0zm17 45.8c6.6 0 11.8 2.7 15.6 8.3a38 38 0 0 1 5.3 21.3c0 9-1.8 16.1-5.3 21.4a18 18 0 0 1-15.6 8.3c-6.7 0-12-2.8-15.6-8.3a38 38 0 0 1-5.3-21.4c0-9 1.8-16 5.3-21.3 3.7-5.6 8.9-8.3 15.6-8.3zm-32.4 1V104h-9.4V58.2a32.3 32.3 0 0 1-13 7v-9.4a34 34 0 0 0 15.4-9h7zm32.4 7c-4.6 0-7.8 2.5-9.6 7.6-1.3 3.4-2 8.1-2 14.1s.7 10.7 2 14.2c1.8 5 5 7.6 9.6 7.6 4.5 0 7.7-2.6 9.6-7.6 1.3-3.5 2-8.2 2-14.2s-.7-10.7-2-14.1c-2-5.1-5.1-7.6-9.6-7.6z" />\n    </symbol>\n\n    <symbol id="shk-icon_more" viewbox="0 0 64 64">\n      <path\n        d="M8 24a8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8 8 8 0 0 0-8-8zm48 0a8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8 8 8 0 0 0-8-8zm-24 0a8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8 8 8 0 0 0-8-8zm0 0" />\n    </symbol>\n\n    <symbol id="shk-icon_chapter" viewbox="0 0 64 64">\n      <path d="M60.8 55.3H18.1a3.2 3.2 0 1 1 0-6.4h42.8a3.2 3.2 0 0 1 3.1 4.9c-.7 1-1.9 1.6-3.1 1.5zm0-20.2H18.1a3.2 3.2 0 1 1 0-6.4h42.8a3.2 3.2 0 1 1 0 6.4zm0-20H18.1a3.2 3.2 0 1 1 0-6.3h42.8a3.2 3.2 0 0 1 0 6.3zM8.5 12.3a4.2 4.2 0 1 1-8.5 0 4.2 4.2 0 0 1 8.5 0zm0 19.8A4.2 4.2 0 1 1 0 32a4.2 4.2 0 0 1 8.5 0zm0 19.8a4.3 4.3 0 1 1-8.5 0 4.3 4.3 0 0 1 8.5 0zm0 0"/>\n    </symbol>\n\n    <symbol id="shk-icon_unmute" viewBox="0 0 64 66">\n      <path d="M34.3 0c1.5.1 2.6 1.4 2.9 2.8v60.3c-.3 1.4-1.4 2.7-3 2.8-.7.1-1.6-.1-2.6-.7L13.7 50H4.2a4 4 0 0 1-4.1-4V20.6c0-2.2 1.8-4 4-4.1h9.6c.7-.8 17.2-15.1 17.9-15.8 1-.6 1.9-.8 2.6-.7zm6.4 9.3a2 2 0 0 1 2.4-1.6 25.8 25.8 0 0 1 0 50.5l-.4.1a2 2 0 1 1-.4-4.1 21.7 21.7 0 0 0 0-42.5 2 2 0 0 1-1.6-2.4zm4.7 12.8a12.1 12.1 0 0 1 0 21.8 2 2 0 0 1-2.8-1c-.5-1-.1-2.2 1-2.8a8 8 0 0 0 0-14.4 2 2 0 0 1-1-2.7 2 2 0 0 1 2.8-.9zm0 0"/>\n    </symbol>\n\n    <symbol id="shk-icon_mute" viewBox="0 0 64 64">\n      <path d="M33.2 0c-.8 0-1.6.1-2.6.7l-17.4 15H4a4 4 0 0 0-4 4v24.1a4 4 0 0 0 4 4h9.2l17.4 14.5c1 .6 1.8.8 2.6.7 1.4-.1 2.5-1.4 2.8-2.6V2.7C35.7 1.4 34.6 0 33.2 0zm23.2 31.5l6.9-6.8c.7-.6 1-1.5.7-2.4-.2-.8-.9-1.5-1.8-1.7-.8-.2-1.8 0-2.4.7L53 28.1 46 21.3c-.6-.6-1.5-1-2.4-.7-.9.2-1.5.9-1.8 1.7-.2.9.1 1.8.8 2.4l6.9 6.8-7 6.8c-.8 1-.8 2.4.2 3.3.9 1 2.4 1 3.3.1l7-6.8 6.8 6.8c1 .9 2.5.8 3.4 0 1-1 1-2.4 0-3.4l-6.8-6.8zm0 0"/>\n    </symbol>\n\n    <symbol id="shk-icon_triangle" viewbox="0 0 64 64"><path d="M59 29.2L7.8.4A3.2 3.2 0 003 3.2v57.6a3.2 3.2 0 004.8 2.8L59 34.8a3.2 3.2 0 000-5.6z" /></symbol>\n    <symbol id="shk-icon_chart" viewbox="0 0 64 64"><g transform="matrix(1 0 0 -1 0 64)"><rect x="10" width="8" height="54.1" rx="3"><animate attributeName="height" begin="0s" dur="2s" values="64;55;33;5;60;23;58;33;12;14;52;64" calcMode="linear" repeatCount="indefinite"/></rect><rect x="26" width="8" height="32.8" rx="3"><animate attributeName="height" begin="0s" dur="2s" values="50;34;64;23;56;23;34;4;64;54;21;50" calcMode="linear" repeatCount="indefinite"/></rect><rect x="42" width="8" height="42.6" rx="3"><animate attributeName="height" begin="0s" dur="2s" values="30;45;13;64;56;24;45;64;34;23;64;30" calcMode="linear" repeatCount="indefinite"/></rect></g></symbol>\n    <symbol id="shk-icon_close" viewbox="0 0 16 16"><path d="M3.207 14.207a1 1 0 1 1-1.414-1.414l11-11a1 1 0 0 1 1.414 1.414zm11-1.414a1 1 0 0 1-1.414 1.414l-11-11a1 1 0 0 1 1.414-1.414z"></path></symbol>\n  </svg>\n'})),this.initEl(),this.initOptions(e)}return a(t,[{key:"initEl",value:function(){var t=this;return o(s.mark((function e(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.el=k({className:["shk","shikwasa"],attrs:{"data-name":"shikwasa"},innerHTML:'\n  <div class="shk-player">\n    <div class="shk-bar_wrap">\n      <div class="shk-bar" aria-label="progress bar">\n        <div class="shk-bar_loaded"\n          role="progressbar"\n          aria-label="loaded progress"\n          aria-valuenow="0"\n          aria-valuemin="0"\n          aria-valuemax="1"></div>\n        <div class="shk-bar_played"\n          role="progressbar"\n          aria-label="played progress"\n          aria-valuenow="0"\n          aria-valuemin="0"\n          aria-valuemax="1">\n          <button class="shk-bar-handle"\n            role="slider"\n            aria-label="seek progress"\n            aria-valuenow="0"\n            aria-valuemin="0"\n            aria-orientation="horizontal"\n            aria-valuemax="1"></button>\n        </div>\n      </div>\n    </div>\n    <div class="shk-body">\n      <div class="shk-cover">\n        <div class="shk-img"></div>\n      </div>\n      <div class="shk-main">\n        <div class="shk-text">\n          <div class="shk-artist_wrap">\n            <span class="shk-artist"></span>\n          </div>\n          <div class="shk-title_wrap">\n            <div class="shk-title_inner">\n              <span class="shk-title"></span>\n            </div>\n          </div>\n        </div>\n        <div class="shk-controls">\n          <div class="shk-controls_basic">\n            <button class="shk-btn shk-btn_speed"\n              aria-label="toggle playback rate"\n              title="change playback rate"\n              aria-live="polite">1.0x</button>\n            <button class="shk-btn shk-btn_backward"\n              aria-label="rewind 10 seconds"\n              title="rewind 10 seconds">\n              <svg aria-hidden="true">\n                <use xlink:href="#shk-icon_backward" />\n              </svg>\n            </button>\n            <button class="shk-btn shk-btn_toggle" aria-label="toggle play and pause">\n              <svg class="shk-btn_play" aria-hidden="true">\n                <use xlink:href="#shk-icon_play" />\n              </svg>\n              <svg class="shk-btn_pause" aria-hidden="true">\n                <use xlink:href="#shk-icon_pause" />\n              </svg>\n            </button>\n            <button class="shk-btn shk-btn_forward" aria-label="forward 10 seconds" title="forward 10 seconds">\n              <svg aria-hidden="true">\n                <use xlink:href="#shk-icon_forward" />\n              </svg>\n            </button>\n            <button class="shk-btn shk-btn_more" aria-label="more controls" title="more controls">\n              <svg aria-hidden="true">\n                <use xlink:href="#shk-icon_more" />\n              </svg>\n            </button>\n          </div>\n          <div class="shk-controls_extra">\n            <button class="shk-btn shk-btn_volume" aria-label="toggle volume" title="volume">\n              <svg class="shk-btn_unmute" aria-hidden="true">\n                <use xlink:href="#shk-icon_unmute" />\n              </svg>\n              <svg class="shk-btn_mute" aria-hidden="true">\n                <use xlink:href="#shk-icon_mute" />\n              </svg>\n            </button>\n          </div>\n        </div>\n        <div class="shk-display">\n          <span class="shk-loader" aria-live="polite">\n            <span class="shk-visuallyhidden" tabindex="-1">loading</span>\n            <svg aria-hidden="true" aria-label="loading" aria-live="polite" viewbox="0 0 66 66">\n              <circle cx="33" cy="33" r="30" fill="transparent" stroke="url(#shk-gradient)" stroke-dasharray="170"\n                stroke-dashoffset="20" stroke-width="6" />\n              <lineargradient id="shk-gradient">\n                <stop offset="50%" stop-color="currentColor" />\n                <stop offset="65%" stop-color="currentColor" stop-opacity=".5" />\n                <stop offset="100%" stop-color="currentColor" stop-opacity="0" />\n              </lineargradient>\n            </svg>\n          </span>\n          <span class="shk-time">\n            <span class="shk-time_now">00:00</span><span class="shk-time_duration">00:00</span>\n          </span>\n          <div class="shk-live">live</div>\n        </div>\n      </div>\n    </div>\n  </div>\n'}),t.playBtn=t.el.querySelector(".shk-btn_toggle"),t.fwdBtn=t.el.querySelector(".shk-btn_forward"),t.bwdBtn=t.el.querySelector(".shk-btn_backward"),t.speedBtn=t.el.querySelector(".shk-btn_speed"),t.moreBtn=t.el.querySelector(".shk-btn_more"),t.muteBtn=t.el.querySelector(".shk-btn_volume"),t.extraControls=t.el.querySelector(".shk-controls_extra"),t.texts=t.el.querySelector(".shk-text"),t.artist=t.el.querySelector(".shk-artist"),t.artistWrap=t.el.querySelector(".shk-artist_wrap"),t.titleWrap=t.el.querySelector(".shk-title_wrap"),t.titleInner=t.el.querySelector(".shk-title_inner"),t.title=t.el.querySelector(".shk-title"),t.currentTime=t.el.querySelector(".shk-time_now"),t.duration=t.el.querySelector(".shk-time_duration"),t.bar=t.el.querySelector(".shk-bar"),t.barWrap=t.el.querySelector(".shk-bar_wrap"),t.audioPlayed=t.el.querySelector(".shk-bar_played"),t.audioLoaded=t.el.querySelector(".shk-bar_loaded"),t.handle=t.el.querySelector(".shk-bar-handle"),t.cover=t.el.querySelector(".shk-cover"),t.seekControls=[t.fwdBtn,t.bwdBtn,t.handle];case 23:case"end":return e.stop()}}),e)})))()}},{key:"initOptions",value:function(t){this.el.style="--color-primary: ".concat(t.themeColor),this.el.setAttribute("data-theme",t.theme),t.download&&t.audio&&t.audio.src&&(this.downloadBtn=k({tag:"a",className:["shk-btn","shk-btn_download"],attrs:{title:"download","aria-label":"download",href:"string"===typeof t.download?t.download:t.audio.src,download:"",target:"_blank",rel:"noopener noreferrer"},innerHTML:'\n          <svg aria-hidden="true">\n            <use xlink:href="#shk-icon_download" />\n          </svg>\n        '}),this.extraControls.append(this.downloadBtn)),this.el.setAttribute("data-fixed-type",t.fixed.type),"static"!==t.fixed.type&&"top"===t.fixed.position&&this.el.setAttribute("data-fixed-pos",t.fixed.position);var e=t.autoPlay?"playing":"paused";this.el.setAttribute("data-play",e),t.muted&&this.el.setAttribute("data-mute","")}},{key:"initEvents",value:function(t){var e=this;this.moreBtn.addEventListener("click",(function(){m(e.el,"data-extra")})),Array.from(this.extraControls.children).forEach((function(t){e.hideExtraControl(t)})),b(this.el,t),y=function(){w&&(w=!1,setTimeout((function(){return w=!0}),100),d.call(e,e.titleWrap,e.title))},window.addEventListener("resize",y)}},{key:"setAudioInfo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};g&&(URL.revokeObjectURL(g),g=null),/blob/.test(t.cover)&&(g=t.cover),t.cover?this.cover.style.backgroundImage="url(".concat(t.cover,")"):this.cover.style.backgroundImage="none",this.title.innerHTML=t.title,this.titleInner.setAttribute("data-title",t.title),this.artist.innerHTML=t.artist,t.duration&&(this.duration.innerHTML=l(t.duration)),this.downloadBtn&&(this.downloadBtn.href=t.src),this.setBar("loaded",0),this.setLive(t.live),d(this.titleWrap,this.title)}},{key:"setPlaying",value:function(){this.el.setAttribute("data-play","playing")}},{key:"setPaused",value:function(){this.el.setAttribute("data-play","paused"),this.el.removeAttribute("data-loading")}},{key:"setTime",value:function(t,e){this[t].innerHTML=l(e)}},{key:"setBar",value:function(t,e){var n="audio"+t.charAt(0).toUpperCase()+t.substr(1);e=Math.min(e,1),e=Math.max(e,0),this[n].style.width=100*e+"%";var i=e.toFixed(2);this[n].setAttribute("aria-valuenow",i),this.handle.setAttribute("aria-valuenow",i)}},{key:"setProgress",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t&&!e?e=n?t/n:0:t=e*(n||0),this.setTime("currentTime",t),this.setBar("played",e)}},{key:"setSpeed",value:function(t){this.speedBtn.innerHTML=function(t){var e=parseFloat(t).toFixed(2);return"0"===e.slice(-1)?e.slice(0,-1):e}(t)+"x"}},{key:"setLive",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t?this.el.setAttribute("data-live",""):this.el.removeAttribute("data-live")}},{key:"getPercentByPos",value:function(t){var e=((t.clientX||t.changedTouches&&t.changedTouches[0].clientX||0)-this.barWrap.getBoundingClientRect().left)/this.barWrap.clientWidth;return e=Math.min(e,1),e=Math.max(0,e)}},{key:"hideExtraControl",value:function(t){var e=this;t.addEventListener("click",(function(){setTimeout((function(){e.el.removeAttribute("data-extra")}),800)}))}},{key:"mount",value:function(t,e){t.innerHTML="",t.append(this.el),this.icons&&t.append(this.icons),this.mounted=!0,this.initEvents(e),d(this.titleWrap,this.title)}},{key:"destroy",value:function(){window.removeEventListener("resize",y),g&&URL.revokeObjectURL(g)}}]),t}(),L=function(){function t(){i(this,t),this.audioEvents=["abort","canplay","canplaythrough","complete","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],this.playerEvents=["audioupdate","audioparse"],this.events={}}return a(t,[{key:"on",value:function(t,e){this.type(t)&&"function"==typeof e&&(this.events[t]||(this.events[t]=[]),this.events[t].push(e))}},{key:"trigger",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.events[t]&&this.events[t].length&&this.events[t].forEach((function(t){return t(e)}))}},{key:"type",value:function(t){return-1!==this.playerEvents.indexOf(t)?"player":-1!==this.audioEvents.indexOf(t)?"audio":(console.error("Shikwasa: unknown event name: ".concat(t)),null)}}]),t}(),x=[],E=[],A="undefined"!==typeof window&&/mobile/i.test(window.navigator.userAgent),M=A?"touchstart":"mousedown",T=A?"touchmove":"mousemove",S=A?"touchend":"mouseup",O=!1;if("undefined"!==typeof window)try{var C=Object.defineProperty({},"passive",{get:function(){return O=!0,!1}});window.addEventListener("testPassvie",null,C),window.removeEventListener("testPassvie",null,C)}catch(z){O=!1}var P=O&&A,B=function(){function t(e){i(this,t),this.id=x.length,x.push(this),this.comps={},this._audio={},this._hasMediaSession=!1,this._initSeek=0,this.live=!1,this._canplay=!1,this._dragging=!1,this.events=new L,this.options=function(t){var e=Object.assign({},t);return e.audio=Object.assign({},t.audio),Object.keys(u).forEach((function(t){e[t]=e[t]||"boolean"===typeof e[t]?e[t]:u[t]})),"function"===typeof e.container&&(e.container=e.container()),c.fixedOptions.find((function(t){return t===e.fixed.type}))||(e.fixed.type=u.fixed.type),Array.isArray(e.speedOptions)||(e.speedOptions=[e.speedOptions]),-1===e.speedOptions.indexOf(1)&&e.speedOptions.push(1),e.speedOptions=e.speedOptions.map((function(t){return parseFloat(t)})).filter((function(t){return!isNaN(t)})),e.speedOptions.length>1&&e.speedOptions.sort((function(t,e){return t-e})),e}(e),this.renderComponents(),this.initUI(this.options),this.initAudio(),this.ui.mount(this.options.container,O)}return a(t,[{key:"duration",get:function(){return this.audio&&this.audio.duration?this.audio.duration:this._audio.duration}},{key:"seekable",get:function(){return!this.live&&Boolean(this.duration)},set:function(t){t?this.ui.seekControls.forEach((function(t){t.removeAttribute("disabled")})):this.ui.seekControls.forEach((function(t){t.setAttribute("disabled","")}))}},{key:"currentTime",get:function(){return this.audio?this.audio.currentTime:void 0}},{key:"playbackRate",get:function(){return this.audio?this.audio.playbackRate:void 0},set:function(t){this.audio&&(this.audio.playbackRate=t,this.audio.defaultPlaybackRate=t)}},{key:"muted",get:function(){return this.audio?this.audio.muted:void 0},set:function(t){this.audio&&(this.audio.muted=t,this.audio.defaultMuted=t)}},{key:"initUI",value:function(){this.ui=new _(this.options),this.el=this.ui.el,this.initControlEvents(),this.initBarEvents()}},{key:"initControlEvents",value:function(){var t=this;this.ui.playBtn.addEventListener("click",(function(){t.toggle()})),this.ui.muteBtn.addEventListener("click",(function(){t.muted=!t.muted,m(t.el,"data-mute")})),this.ui.fwdBtn.addEventListener("click",(function(){t.seekBySpan()})),this.ui.bwdBtn.addEventListener("click",(function(){t.seekBySpan({forward:!1})})),this.ui.speedBtn.addEventListener("click",(function(){var e=t.options.speedOptions.indexOf(t.playbackRate),n=t.options.speedOptions;t.playbackRate=e+1>=n.length?n[0]:n[e+1],t.ui.setSpeed(t.playbackRate)}))}},{key:"initBarEvents",value:function(){var t=this,e=0,n=function(e){t.ui.setProgress(null,t.ui.getPercentByPos(e),t.duration)},i=function i(a){a.preventDefault(),document.removeEventListener(T,n),document.removeEventListener(S,i),e=t.ui.getPercentByPos(a)*t.duration,t.seek(e),t._dragging=!1,setTimeout((function(){return t.el.removeAttribute("data-seeking")}),50)};this.ui.barWrap.addEventListener(M,(function(e){t.seekable&&(e.preventDefault(),t.el.setAttribute("data-seeking",""),t._dragging=!0,document.addEventListener(T,n,!!P&&{passive:!0}),document.addEventListener(S,i))})),this.ui.handle.addEventListener("keydown",(function(e){if(t.seekable){var n=e.key.replace("Arrow",""),i=["PageDown","PageUp"],a=["Home","End"],s=-1!==["Left","Down"].indexOf(n),r=-1!==["Right","Up"].indexOf(n),o=n===i[0],u=n===i[1],c=n===a[0],l=n===a[1];if(s||r||-1!==i.indexOf(n)||-1!==a.indexOf(n))if(c)t.seek(0);else if(l)t.seek(t.duration);else{var d=(u||o?.1:.01)*(r||u?1:-1),h=t._canplay?t.currentTime:t._initSeek,v=d*t.duration+h;t.seek(v)}}}))}},{key:"initAudio",value:function(){var t=this;this.options.audio.src&&(this.audio=new Audio,this.initAudioEvents(),this.events.audioEvents.forEach((function(e){t.audio.addEventListener(e,(function(n){t.events.trigger(e,n)}))})),this.audio.preload=this.options.preload,this.muted=this.options.muted,this.update(this.options.audio))}},{key:"initAudioEvents",value:function(){var t=this;this.on("play",(function(){t.ui.setPlaying(),x.forEach((function(e){e.id!==t.id&&e.audio&&!e.audio.paused&&e.pause()}))})),this.on("pause",(function(){t.ui.setPaused()})),this.on("ended",(function(){t.ui.setPaused(),t.seek(0)})),this.on("waiting",(function(){t.el.setAttribute("data-loading","")})),this.on("durationchange",(function(){t.duration!==1/0&&t.live&&(t.live=!1),t.duration&&1!==t.duration&&t.duration!==1/0&&(t.seekable=!0,t.ui.setTime("duration",t.duration))})),this.on("canplay",(function(){t._canplay||(t._canplay=!0,t._initSeek&&(t.seek(t._initSeek),t._initSeek=0)),t.duration!==1/0||t.live||(t.live=!0,t.ui.setLive(t.live))})),this.on("canplaythrough",(function(){t.el.removeAttribute("data-loading")})),this.on("progress",(function(){if(t.audio.buffered.length){var e=t.audio.buffered.length?t.audio.buffered.end(t.audio.buffered.length-1)/t.duration:0;t.ui.setBar("loaded",e)}})),this.on("timeupdate",(function(){t._dragging||t.ui.setProgress(t.audio.currentTime,null,t.duration)})),this.on("abort",(function(){t.ui.setPaused()})),this.on("audioupdate",(function(e){t.seekable=e.duration&&e.duration!==1/0,t.updateMetadata(e)})),this.on("audioparse",(function(e){t.seekable=e.duration&&e.duration!==1/0,t.updateMetadata(e)}))}},{key:"initMediaSession",value:function(){var t=this,e=this;if("mediaSession"in navigator){this._hasMediaSession=!0,this.setMediaMetadata(this._audio);var n={play:this.play.bind(e),pause:this.pause.bind(e),seekforward:this.seekBySpan.bind(e),seekbackward:function(){return t.seekBySpan({forward:!1})},seekto:this.seek.bind(e)};Object.keys(n).forEach((function(t){navigator.mediaSession.setActionHandler(t,n[t])}))}}},{key:"setMediaMetadata",value:function(t){var e=t.cover?[{src:t.cover,sizes:"150x150"}]:void 0;navigator.mediaSession.metadata=new MediaMetadata({title:t.title,artist:t.artist,album:t.album,artwork:e})}},{key:"on",value:function(t,e){this.events.on(t,e)}},{key:"play",value:function(){var t=this;if(this.audio.paused){var e=this.audio.play();return e instanceof Promise?(e.then((function(){t.initMediaSession()})),e.catch((function(e){"NotAllowedError"!==e.name&&"NotSupportedError"!==e.name||t.pause()}))):this.initMediaSession(),e}}},{key:"pause",value:function(){this.audio.paused||this.audio.pause()}},{key:"toggle",value:function(){return this.audio.paused?this.play():this.pause()}},{key:"seek",value:function(t){this.seekable&&(t=parseInt(t),isNaN(t)&&console.error("Shikwasa: seeking time is NaN"),t=Math.min(t,this.duration),t=Math.max(t,0),this.ui.setProgress(t,null,this.duration),this._canplay?this.audio.currentTime=t:this._initSeek=t)}},{key:"seekBySpan",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.time,n=void 0===e?10:e,i=t.forward,a=void 0===i||i,s=this._canplay?this.audio.currentTime:this._initSeek,r=s+n*(a?1:-1);this.seek(r)}},{key:"update",value:function(t){var e=this;if(!t||!t.src)throw new Error("Shikwasa: audio source is not specified");this._audio=h(t),this.live=this._audio.live,this._canplay=!1,this.audio.src=this._audio.src,this.events.trigger("audioupdate",this._audio);var n=!t.title||!t.artist||!t.cover||!t.chapters;!this.live&&this.options.parser&&n&&function(){return v.apply(this,arguments)}(Object.assign({},t),this.options.parser).then((function(t){e._audio=t||e._audio,e.events.trigger("audioparse",e._audio)}))}},{key:"updateMetadata",value:function(t){this.audio.title=t.title,this.ui.setAudioInfo(t),this._hasMediaSession&&this.setMediaMetadata(t)}},{key:"destroyAudio",value:function(){this.audio.pause(),this.audio.src="",this.audio.load(),this.audio=null}},{key:"destroy",value:function(){var t=this;this.destroyAudio(),this.ui.destroy(),Object.keys(this.comps).forEach((function(e){t.comps[e].destroy&&"function"===typeof t.comps[e].destroy&&t.comps[e].destroy()})),this.comps=null,this.options.container.innerHTML=""}},{key:"renderComponents",value:function(){var t=this;E.length&&E.forEach((function(e){t.comps[e._name]=new e(t)}))}}]),t}();B.use=function(t){E.push(t)},console.log("%c\ud83c\udf4a%c Shikwasa Podcast Player v2.1.2 %c https://shikwasa.js.org","background-color:#00869B40;padding:4px;","background:#00869B80;color:#fff;padding:4px 0","padding: 2px 0;"),t.exports=B},8893:function(){},7377:function(){}}]);
//# sourceMappingURL=518.1235f6ed.chunk.js.map