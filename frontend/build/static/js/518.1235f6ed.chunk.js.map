{"version":3,"file":"static/js/518.1235f6ed.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/@babel/runtime/helpers/createClass.js","../node_modules/shikwasa/dist/shikwasa.chapter.cjs.js","../node_modules/shikwasa/dist/shikwasa.cjs.js"],"sourcesContent":["function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","'use strict';function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}var chapterTemplate =\n\"\\n  <div class=\\\"shk-chapter_main\\\">\\n    <ol class=\\\"shk-chapter_list\\\"></ol>\\n  </div>\\n  <button class=\\\"shk-btn shk-btn_close\\\" aria-label=\\\"close chapter panel\\\" title=\\\"close chapter panel\\\">\\n    <svg class=\\\"shk-icon_close\\\" aria-hidden=\\\"true\\\">\\n      <use xlink:href=\\\"#shk-icon_close\\\" />\\n    </svg>\\n  </button>\\n\";function secondToTime(time) {\n  time = Math.round(time);\n  var hour = Math.floor(time / 3600);\n  var min = Math.floor((time - hour * 3600) / 60);\n  var sec = Math.floor(time - hour * 3600 - min * 60);\n  min = min < 10 ? '0' + min : min;\n  sec = sec < 10 ? '0' + sec : sec;\n  if (hour === 0) {\n    return \"\".concat(min, \":\").concat(sec);\n  }\n  hour = hour < 10 ? '0' + hour : hour;\n  return \"\".concat(hour, \":\").concat(min, \":\").concat(sec);\n}\nfunction marquee(textWrap, textEl) {\n  var speed = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 60;\n  var overflow = textEl.offsetWidth - textWrap.offsetWidth;\n  if (overflow > 0) {\n    textWrap.setAttribute('data-overflow', '');\n    var duration = textEl.offsetWidth / speed;\n    textWrap.style.animationDuration = \"\".concat(duration, \"s\");\n  } else {\n    textWrap.removeAttribute('data-overflow');\n  }\n}\nfunction createElement(options) {\n  options.tag = options.tag || 'div';\n  var el = document.createElement(options.tag);\n  if (options.className) {\n    if (typeof options.className === 'string') {\n      el.classList.add(options.className);\n    } else {\n      options.className.forEach(className => {\n        el.classList.add(className);\n      });\n    }\n  }\n  if (options.attrs) {\n    Object.keys(options.attrs).forEach(key => {\n      el.setAttribute(key, options.attrs[key]);\n    });\n  }\n  if (options.innerHTML) {\n    el.innerHTML = options.innerHTML;\n  }\n  return el;\n}\nfunction toggleAttribute(el, name) {\n  if (typeof el.toggleAttribute === 'function') {\n    el.toggleAttribute(name);\n    return;\n  }\n  if (el.hasAttribute(name)) {\n    el.removeAttribute(name);\n  } else {\n    el.setAttribute(name, '');\n  }\n}\nfunction animateScroll(timestamp, startTime, duration, startPos, distance, scrollEl) {\n  var elapsed = (timestamp - startTime) / 1000;\n  var t = elapsed / duration;\n  scrollEl.scrollTop = startPos + distance * t;\n  if (t < 1) {\n    window.requestAnimationFrame(ts => {\n      animateScroll(ts, startTime, duration, startPos, distance, scrollEl);\n    });\n  }\n}var resize;\nclass Chapter {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.list = [];\n    this.initEvents();\n    this.current = null;\n    this._currentSrc = null;\n    this._chapterPatched = false;\n  }\n  init() {\n    this.patchPlayer();\n    this.ui = new ChapterUI(this.ctx);\n    this.ctx.on('chapterchange', data => {\n      var id = data && data.newVal ? data.newVal.id : null;\n      this.ui.setChapterActive(id);\n    });\n  }\n  initEvents() {\n    this.ctx.on('audioupdate', audio => {\n      if (!this._chapterPatched) {\n        this.init();\n        this._chapterPatched = true;\n      }\n      this.updateList(audio);\n    });\n    this.ctx.on('audioparse', audio => {\n      this.updateList(audio);\n    });\n    this.ctx.on('timeupdate', this.onTimeupdate.bind(this));\n  }\n  clearList() {\n    this.ui.chapterList.innerHTML = '';\n    this.list = [];\n    this.current = null;\n  }\n  updateList(audio) {\n    if (this.list.length) {\n      this.clearList();\n    }\n    if (audio.chapters.length) {\n      this.list = this.handleChapters(audio);\n      this.ui.renderChapterList(this.ctx.chapters);\n      this.clickChapterHandler();\n    }\n    this.ui.handleChapterPanel(this.ctx, audio);\n  }\n  handleChapters(audio) {\n    if (audio.chapters && audio.chapters.length) {\n      return audio.chapters.map((chap, i) => {\n        if (!/^ch\\d+$/.test(chap.id)) {\n          chap.id = \"ch\".concat(i);\n        }\n        return chap;\n      });\n    }\n  }\n  patchPlayer() {\n    var self = this;\n    Object.defineProperties(this.ctx, {\n      chapters: {\n        get() {\n          return self.list;\n        }\n      },\n      currentChapter: {\n        get() {\n          return self.current;\n        }\n      }\n    });\n    this.ctx.events.playerEvents.push('chapterchange');\n    this.ctx.updateChapter = updateChapter.bind(self);\n    function updateChapter(index) {\n      this.setCurrent(this.list[index]);\n      this.ctx.seek(this.current.startTime);\n      this.ctx.play();\n    }\n  }\n  setCurrent(chapter) {\n    var _oldCurrentChapter = this.current ? _objectSpread2({}, this.current) : null;\n    this.current = chapter;\n    this.ctx.events.trigger('chapterchange', {\n      newVal: this.current,\n      oldVal: _oldCurrentChapter\n    });\n  }\n  onTimeupdate(e) {\n    if (this._currentSrc !== e.currentTarget.src) {\n      this._currentSrc = e.currentTarget.src;\n      return;\n    }\n    var direction = this.searchDirection(this.ctx.currentTime, this.current);\n    if (direction) {\n      var searchPool;\n      var index = this.list.indexOf(this.current);\n      if (index === -1) {\n        searchPool = this.list;\n      } else {\n        searchPool = direction === 1 ? this.list.slice(index) : this.list.slice(0, index + 1);\n      }\n      var currentChapter = searchPool.find(ch => {\n        return !this.searchDirection(this.ctx.currentTime, ch);\n      });\n      this.setCurrent(currentChapter);\n    }\n  }\n  searchDirection(time, chapter) {\n    time = Math.round(time);\n    if (!chapter || typeof chapter !== 'object' || chapter.endTime <= time) {\n      return 1;\n    }\n    if (chapter.startTime > time) {\n      return -1;\n    }\n    return 0;\n  }\n  clickChapterHandler() {\n    Array.from(this.ui.chapterList.children).forEach(chEl => {\n      chEl.addEventListener('click', () => {\n        if (!this.ctx.seekable) return;\n        var id = chEl.getAttribute('data-id').match(/\\d+$/);\n        if (id) {\n          this.ctx.updateChapter(+id[0]);\n        }\n      });\n    });\n  }\n  destroy() {\n    this.ui.destroy();\n  }\n}\nclass ChapterUI {\n  constructor(player, audio) {\n    this.initEl(player);\n    this.initEvents(player, audio);\n    this.renderChapterList(player.chapters);\n    player.ui.el.append(this.el);\n    this.activeChapterEl = null;\n  }\n  initEl(player) {\n    this.el = createElement({\n      className: 'shk-chapter',\n      innerHTML: chapterTemplate\n    });\n    var attrs = {\n      title: 'view chapters',\n      'aria-label': 'view chapters'\n    };\n    if (!player.seekable) {\n      attrs.disabled = '';\n    }\n    this.chapterBtn = createElement({\n      tag: 'button',\n      className: ['shk-btn', 'shk-btn_chapter'],\n      attrs,\n      innerHTML:\n      \"\\n        <svg aria-hidden=\\\"true\\\">\\n          <use xlink:href=\\\"#shk-icon_chapter\\\" />\\n        </svg>\\n      \"\n    });\n    player.ui.seekControls.push(this.chapterBtn);\n    player.ui.extraControls.append(this.chapterBtn);\n    this.closeBtn = this.el.querySelector('.shk-btn_close');\n    this.chapterList = this.el.querySelector('.shk-chapter_list');\n    this.overflowLayer = this.el.querySelector('.shk-chapter_main');\n  }\n  initEvents(player) {\n    this.chapterBtn.addEventListener('click', () => {\n      toggleAttribute(player.el, 'data-show-chapter');\n    });\n    player.ui.hideExtraControl(this.chapterBtn);\n    this.closeBtn.addEventListener('click', () => {\n      player.el.removeAttribute('data-show-chapter');\n    });\n    resize = () => {\n      if (!this.activeChapterEl) return;\n      var textWrap = this.activeChapterEl.querySelector('.shk-chapter_title_wrap');\n      var text = this.activeChapterEl.querySelector('.shk-chapter_title');\n      marquee.call(this, textWrap, text);\n    };\n    window.addEventListener('resize', resize);\n  }\n  handleChapterPanel(player, audio) {\n    if (audio.chapters.length) {\n      player.el.setAttribute('data-has-chapter', '');\n    } else {\n      player.el.removeAttribute('data-has-chapter');\n    }\n    if (!audio.chapters.length || !player.seekable) {\n      player.el.removeAttribute('data-show-chapter');\n    }\n  }\n  renderChapterList(chapters) {\n    if (!chapters.length) return;\n    chapters.forEach(ch => {\n      var chapterItemEl = this.renderChapterItem(ch);\n      this.chapterList.append(chapterItemEl);\n    });\n  }\n  renderChapterItem(chapter) {\n    var startTime = secondToTime(chapter.startTime);\n    var innerHTML =\n    \"\\n      <button class=\\\"shk-btn shk-chapter_btn\\\" title=\\\"seek chapter: \".concat(chapter.title, \"\\\" aria-label=\\\"seek chapter: \").concat(chapter.title, \"\\\">\\n        <div class=\\\"shk-icon_chapter\\\" aria-hidden=\\\"true\\\">\\n          <span class=\\\"shk-icon_playing\\\"></span>\\n          <span class=\\\"shk-icon_triangle\\\">\\n            <svg>\\n              <use xlink:href=\\\"#shk-icon_triangle\\\" />\\n            </svg>\\n          </span>\\n        </div>\\n        <div class=\\\"shk-chapter_duration\\\">\").concat(startTime, \"</div>\\n        <div class=\\\"shk-chapter_title_wrap\\\">\\n          <div class=\\\"shk-chapter_title_inner\\\" data-chapter=\\\"\").concat(chapter.title, \"\\\">\\n            <div class=\\\"shk-chapter_title\\\">\").concat(chapter.title, \"</div>\\n          </div>\\n        </div>\\n      </button>\\n    \");\n    return createElement({\n      tag: 'li',\n      className: 'shk-chapter_item',\n      innerHTML: innerHTML,\n      attrs: {\n        'data-id': chapter.id\n      }\n    });\n  }\n  setChapterActive(id) {\n    this.chapterList.querySelectorAll('.shk-chapter_item').forEach(chEl => {\n      if (chEl.getAttribute('data-id') === id) {\n        chEl.setAttribute('data-active', '');\n        this.scrollIntoView(chEl);\n        this.activeChapterEl = chEl;\n        var titleEl = chEl.querySelector('.shk-chapter_title');\n        var titleWrap = chEl.querySelector('.shk-chapter_title_wrap');\n        marquee(titleWrap, titleEl);\n      } else {\n        chEl.removeAttribute('data-active');\n      }\n    });\n  }\n  scrollIntoView(el) {\n    if (this.el.style.visibility === 'hidden') return;\n    var layerMargin = window.getComputedStyle(this.overflowLayer).marginTop;\n    var listMargin = window.getComputedStyle(this.chapterList).marginTop;\n    var offsetTop = parseInt(layerMargin) + parseInt(listMargin);\n    var outOfView = this.overflowLayer.scrollTop + offsetTop - el.offsetTop > 0 || el.offsetTop - this.overflowLayer.scrollTop - this.overflowLayer.offsetHeight > 0;\n    var startPos = this.overflowLayer.scrollTop;\n    var distance = el.offsetTop - startPos - offsetTop;\n    var startTime = performance.now();\n    var duration = 0.2;\n    if (outOfView) {\n      animateScroll(startTime, startTime, duration, startPos, distance, this.overflowLayer);\n    }\n  }\n  destroy() {\n    window.removeEventListener('resize', resize);\n  }\n}\nChapter._name = 'chapter';module.exports=Chapter;","'use strict';function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}var PlayerTemplate =\n\"\\n  <div class=\\\"shk-player\\\">\\n    <div class=\\\"shk-bar_wrap\\\">\\n      <div class=\\\"shk-bar\\\" aria-label=\\\"progress bar\\\">\\n        <div class=\\\"shk-bar_loaded\\\"\\n          role=\\\"progressbar\\\"\\n          aria-label=\\\"loaded progress\\\"\\n          aria-valuenow=\\\"0\\\"\\n          aria-valuemin=\\\"0\\\"\\n          aria-valuemax=\\\"1\\\"></div>\\n        <div class=\\\"shk-bar_played\\\"\\n          role=\\\"progressbar\\\"\\n          aria-label=\\\"played progress\\\"\\n          aria-valuenow=\\\"0\\\"\\n          aria-valuemin=\\\"0\\\"\\n          aria-valuemax=\\\"1\\\">\\n          <button class=\\\"shk-bar-handle\\\"\\n            role=\\\"slider\\\"\\n            aria-label=\\\"seek progress\\\"\\n            aria-valuenow=\\\"0\\\"\\n            aria-valuemin=\\\"0\\\"\\n            aria-orientation=\\\"horizontal\\\"\\n            aria-valuemax=\\\"1\\\"></button>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"shk-body\\\">\\n      <div class=\\\"shk-cover\\\">\\n        <div class=\\\"shk-img\\\"></div>\\n      </div>\\n      <div class=\\\"shk-main\\\">\\n        <div class=\\\"shk-text\\\">\\n          <div class=\\\"shk-artist_wrap\\\">\\n            <span class=\\\"shk-artist\\\"></span>\\n          </div>\\n          <div class=\\\"shk-title_wrap\\\">\\n            <div class=\\\"shk-title_inner\\\">\\n              <span class=\\\"shk-title\\\"></span>\\n            </div>\\n          </div>\\n        </div>\\n        <div class=\\\"shk-controls\\\">\\n          <div class=\\\"shk-controls_basic\\\">\\n            <button class=\\\"shk-btn shk-btn_speed\\\"\\n              aria-label=\\\"toggle playback rate\\\"\\n              title=\\\"change playback rate\\\"\\n              aria-live=\\\"polite\\\">1.0x</button>\\n            <button class=\\\"shk-btn shk-btn_backward\\\"\\n              aria-label=\\\"rewind 10 seconds\\\"\\n              title=\\\"rewind 10 seconds\\\">\\n              <svg aria-hidden=\\\"true\\\">\\n                <use xlink:href=\\\"#shk-icon_backward\\\" />\\n              </svg>\\n            </button>\\n            <button class=\\\"shk-btn shk-btn_toggle\\\" aria-label=\\\"toggle play and pause\\\">\\n              <svg class=\\\"shk-btn_play\\\" aria-hidden=\\\"true\\\">\\n                <use xlink:href=\\\"#shk-icon_play\\\" />\\n              </svg>\\n              <svg class=\\\"shk-btn_pause\\\" aria-hidden=\\\"true\\\">\\n                <use xlink:href=\\\"#shk-icon_pause\\\" />\\n              </svg>\\n            </button>\\n            <button class=\\\"shk-btn shk-btn_forward\\\" aria-label=\\\"forward 10 seconds\\\" title=\\\"forward 10 seconds\\\">\\n              <svg aria-hidden=\\\"true\\\">\\n                <use xlink:href=\\\"#shk-icon_forward\\\" />\\n              </svg>\\n            </button>\\n            <button class=\\\"shk-btn shk-btn_more\\\" aria-label=\\\"more controls\\\" title=\\\"more controls\\\">\\n              <svg aria-hidden=\\\"true\\\">\\n                <use xlink:href=\\\"#shk-icon_more\\\" />\\n              </svg>\\n            </button>\\n          </div>\\n          <div class=\\\"shk-controls_extra\\\">\\n            <button class=\\\"shk-btn shk-btn_volume\\\" aria-label=\\\"toggle volume\\\" title=\\\"volume\\\">\\n              <svg class=\\\"shk-btn_unmute\\\" aria-hidden=\\\"true\\\">\\n                <use xlink:href=\\\"#shk-icon_unmute\\\" />\\n              </svg>\\n              <svg class=\\\"shk-btn_mute\\\" aria-hidden=\\\"true\\\">\\n                <use xlink:href=\\\"#shk-icon_mute\\\" />\\n              </svg>\\n            </button>\\n          </div>\\n        </div>\\n        <div class=\\\"shk-display\\\">\\n          <span class=\\\"shk-loader\\\" aria-live=\\\"polite\\\">\\n            <span class=\\\"shk-visuallyhidden\\\" tabindex=\\\"-1\\\">loading</span>\\n            <svg aria-hidden=\\\"true\\\" aria-label=\\\"loading\\\" aria-live=\\\"polite\\\" viewbox=\\\"0 0 66 66\\\">\\n              <circle cx=\\\"33\\\" cy=\\\"33\\\" r=\\\"30\\\" fill=\\\"transparent\\\" stroke=\\\"url(#shk-gradient)\\\" stroke-dasharray=\\\"170\\\"\\n                stroke-dashoffset=\\\"20\\\" stroke-width=\\\"6\\\" />\\n              <lineargradient id=\\\"shk-gradient\\\">\\n                <stop offset=\\\"50%\\\" stop-color=\\\"currentColor\\\" />\\n                <stop offset=\\\"65%\\\" stop-color=\\\"currentColor\\\" stop-opacity=\\\".5\\\" />\\n                <stop offset=\\\"100%\\\" stop-color=\\\"currentColor\\\" stop-opacity=\\\"0\\\" />\\n              </lineargradient>\\n            </svg>\\n          </span>\\n          <span class=\\\"shk-time\\\">\\n            <span class=\\\"shk-time_now\\\">00:00</span><span class=\\\"shk-time_duration\\\">00:00</span>\\n          </span>\\n          <div class=\\\"shk-live\\\">live</div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\";var IconTemplate =\n\"\\n  <svg class=\\\"shk-icons\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n    <symbol id=\\\"shk-icon_play\\\" viewbox=\\\"0 0 64 64\\\">\\n      <path\\n        d=\\\"M32 0a32 32 0 1 1 0 64 32 32 0 0 1 0-64zm-9 17.8c-1 0-1.7.6-1.7 1.4v25.6c0 .8.8 1.4 1.7 1.4 0 0 25-12 26.2-13.1 1-1 .3-1.9.1-2.1z\\\" />\\n    </symbol>\\n\\n    <symbol id=\\\"shk-icon_pause\\\" viewbox=\\\"0 0 64 64\\\">\\n      <path fill-rule=\\\"nonzero\\\"\\n        d=\\\"M32 0a32 32 0 1 0 0 64 32 32 0 0 0 0-64zm-4 40a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V24c0-1.1.9-2 2-2h4a2 2 0 0 1 2 2v16zm16 0a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V24c0-1.1.9-2 2-2h4a2 2 0 0 1 2 2v16z\\\" />\\n    </symbol>\\n\\n    <symbol id=\\\"shk-icon_download\\\" viewbox=\\\"0 0 24 24\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\">\\n      <path d=\\\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3\\\" />\\n    </symbol>\\n\\n    <symbol id=\\\"shk-icon_forward\\\" viewbox=\\\"0 0 128 139\\\">\\n      <path\\n        d=\\\"M64 11v14h-.8A50 50 0 1 0 114 75h14a64 64 0 1 1-64-64zm16.9 35c6.6 0 11.8 2.7 15.6 8.3a38 38 0 0 1 5.3 21.4c0 9-1.8 16-5.3 21.3-3.8 5.6-9 8.4-15.6 8.4-6.7 0-12-2.8-15.6-8.4A38 38 0 0 1 60 75.7c0-9 1.8-16.1 5.3-21.4C69 48.7 74.2 46 80.9 46zm-32.5 1v57.1H39V58.3a32.3 32.3 0 0 1-13 7V56a34 34 0 0 0 15.4-9h7zm32.5 7c-4.6 0-7.8 2.4-9.6 7.5-1.3 3.5-2 8.2-2 14.2 0 5.9.7 10.6 2 14.1 1.8 5 5 7.6 9.6 7.6 4.5 0 7.7-2.5 9.6-7.6 1.3-3.5 1.9-8.2 1.9-14.1 0-6-.6-10.7-2-14.2-1.8-5.1-5-7.6-9.5-7.6zM64 0l48 19-48 19V0z\\\" />\\n    </symbol>\\n\\n    <symbol id=\\\"shk-icon_backward\\\" viewbox=\\\"0 0 128 139\\\">\\n      <path\\n        d=\\\"M64 0v11A64 64 0 1 1 0 75h14a50 50 0 1 0 50-50v13L16 19 64 0zm17 45.8c6.6 0 11.8 2.7 15.6 8.3a38 38 0 0 1 5.3 21.3c0 9-1.8 16.1-5.3 21.4a18 18 0 0 1-15.6 8.3c-6.7 0-12-2.8-15.6-8.3a38 38 0 0 1-5.3-21.4c0-9 1.8-16 5.3-21.3 3.7-5.6 8.9-8.3 15.6-8.3zm-32.4 1V104h-9.4V58.2a32.3 32.3 0 0 1-13 7v-9.4a34 34 0 0 0 15.4-9h7zm32.4 7c-4.6 0-7.8 2.5-9.6 7.6-1.3 3.4-2 8.1-2 14.1s.7 10.7 2 14.2c1.8 5 5 7.6 9.6 7.6 4.5 0 7.7-2.6 9.6-7.6 1.3-3.5 2-8.2 2-14.2s-.7-10.7-2-14.1c-2-5.1-5.1-7.6-9.6-7.6z\\\" />\\n    </symbol>\\n\\n    <symbol id=\\\"shk-icon_more\\\" viewbox=\\\"0 0 64 64\\\">\\n      <path\\n        d=\\\"M8 24a8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8 8 8 0 0 0-8-8zm48 0a8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8 8 8 0 0 0-8-8zm-24 0a8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8 8 8 0 0 0-8-8zm0 0\\\" />\\n    </symbol>\\n\\n    <symbol id=\\\"shk-icon_chapter\\\" viewbox=\\\"0 0 64 64\\\">\\n      <path d=\\\"M60.8 55.3H18.1a3.2 3.2 0 1 1 0-6.4h42.8a3.2 3.2 0 0 1 3.1 4.9c-.7 1-1.9 1.6-3.1 1.5zm0-20.2H18.1a3.2 3.2 0 1 1 0-6.4h42.8a3.2 3.2 0 1 1 0 6.4zm0-20H18.1a3.2 3.2 0 1 1 0-6.3h42.8a3.2 3.2 0 0 1 0 6.3zM8.5 12.3a4.2 4.2 0 1 1-8.5 0 4.2 4.2 0 0 1 8.5 0zm0 19.8A4.2 4.2 0 1 1 0 32a4.2 4.2 0 0 1 8.5 0zm0 19.8a4.3 4.3 0 1 1-8.5 0 4.3 4.3 0 0 1 8.5 0zm0 0\\\"/>\\n    </symbol>\\n\\n    <symbol id=\\\"shk-icon_unmute\\\" viewBox=\\\"0 0 64 66\\\">\\n      <path d=\\\"M34.3 0c1.5.1 2.6 1.4 2.9 2.8v60.3c-.3 1.4-1.4 2.7-3 2.8-.7.1-1.6-.1-2.6-.7L13.7 50H4.2a4 4 0 0 1-4.1-4V20.6c0-2.2 1.8-4 4-4.1h9.6c.7-.8 17.2-15.1 17.9-15.8 1-.6 1.9-.8 2.6-.7zm6.4 9.3a2 2 0 0 1 2.4-1.6 25.8 25.8 0 0 1 0 50.5l-.4.1a2 2 0 1 1-.4-4.1 21.7 21.7 0 0 0 0-42.5 2 2 0 0 1-1.6-2.4zm4.7 12.8a12.1 12.1 0 0 1 0 21.8 2 2 0 0 1-2.8-1c-.5-1-.1-2.2 1-2.8a8 8 0 0 0 0-14.4 2 2 0 0 1-1-2.7 2 2 0 0 1 2.8-.9zm0 0\\\"/>\\n    </symbol>\\n\\n    <symbol id=\\\"shk-icon_mute\\\" viewBox=\\\"0 0 64 64\\\">\\n      <path d=\\\"M33.2 0c-.8 0-1.6.1-2.6.7l-17.4 15H4a4 4 0 0 0-4 4v24.1a4 4 0 0 0 4 4h9.2l17.4 14.5c1 .6 1.8.8 2.6.7 1.4-.1 2.5-1.4 2.8-2.6V2.7C35.7 1.4 34.6 0 33.2 0zm23.2 31.5l6.9-6.8c.7-.6 1-1.5.7-2.4-.2-.8-.9-1.5-1.8-1.7-.8-.2-1.8 0-2.4.7L53 28.1 46 21.3c-.6-.6-1.5-1-2.4-.7-.9.2-1.5.9-1.8 1.7-.2.9.1 1.8.8 2.4l6.9 6.8-7 6.8c-.8 1-.8 2.4.2 3.3.9 1 2.4 1 3.3.1l7-6.8 6.8 6.8c1 .9 2.5.8 3.4 0 1-1 1-2.4 0-3.4l-6.8-6.8zm0 0\\\"/>\\n    </symbol>\\n\\n    <symbol id=\\\"shk-icon_triangle\\\" viewbox=\\\"0 0 64 64\\\"><path d=\\\"M59 29.2L7.8.4A3.2 3.2 0 003 3.2v57.6a3.2 3.2 0 004.8 2.8L59 34.8a3.2 3.2 0 000-5.6z\\\" /></symbol>\\n    <symbol id=\\\"shk-icon_chart\\\" viewbox=\\\"0 0 64 64\\\"><g transform=\\\"matrix(1 0 0 -1 0 64)\\\"><rect x=\\\"10\\\" width=\\\"8\\\" height=\\\"54.1\\\" rx=\\\"3\\\"><animate attributeName=\\\"height\\\" begin=\\\"0s\\\" dur=\\\"2s\\\" values=\\\"64;55;33;5;60;23;58;33;12;14;52;64\\\" calcMode=\\\"linear\\\" repeatCount=\\\"indefinite\\\"/></rect><rect x=\\\"26\\\" width=\\\"8\\\" height=\\\"32.8\\\" rx=\\\"3\\\"><animate attributeName=\\\"height\\\" begin=\\\"0s\\\" dur=\\\"2s\\\" values=\\\"50;34;64;23;56;23;34;4;64;54;21;50\\\" calcMode=\\\"linear\\\" repeatCount=\\\"indefinite\\\"/></rect><rect x=\\\"42\\\" width=\\\"8\\\" height=\\\"42.6\\\" rx=\\\"3\\\"><animate attributeName=\\\"height\\\" begin=\\\"0s\\\" dur=\\\"2s\\\" values=\\\"30;45;13;64;56;24;45;64;34;23;64;30\\\" calcMode=\\\"linear\\\" repeatCount=\\\"indefinite\\\"/></rect></g></symbol>\\n    <symbol id=\\\"shk-icon_close\\\" viewbox=\\\"0 0 16 16\\\"><path d=\\\"M3.207 14.207a1 1 0 1 1-1.414-1.414l11-11a1 1 0 0 1 1.414 1.414zm11-1.414a1 1 0 0 1-1.414 1.414l-11-11a1 1 0 0 1 1.414-1.414z\\\"></path></symbol>\\n  </svg>\\n\";\nvar DEFAULT = {\n  container: () => document.querySelector('body'),\n  parser: null,\n  fixed: {\n    type: 'auto',\n    position: 'bottom'\n  },\n  download: false,\n  themeColor: '#0d6efd',\n  theme: 'auto',\n  autoPlay: false,\n  muted: false,\n  preload: 'metadata',\n  speedOptions: [0.5, 0.75, 1, 1.25, 1.5],\n  audio: null\n};\nvar CONFIG = {\n  fixedOptions: ['auto', 'static', 'fixed'],\n  audioOptions: {\n    title: 'Unknown Title',\n    artist: 'Unknown Artist',\n    duration: NaN,\n    cover: null,\n    chapters: [],\n    src: null,\n    album: '',\n    live: false\n  }\n};function secondToTime(time) {\n  time = Math.round(time);\n  var hour = Math.floor(time / 3600);\n  var min = Math.floor((time - hour * 3600) / 60);\n  var sec = Math.floor(time - hour * 3600 - min * 60);\n  min = min < 10 ? '0' + min : min;\n  sec = sec < 10 ? '0' + sec : sec;\n  if (hour === 0) {\n    return \"\".concat(min, \":\").concat(sec);\n  }\n  hour = hour < 10 ? '0' + hour : hour;\n  return \"\".concat(hour, \":\").concat(min, \":\").concat(sec);\n}\nfunction numToString(num) {\n  var float = parseFloat(num).toFixed(2);\n  return float.slice(-1) === '0' ? float.slice(0, -1) : float;\n}\nfunction marquee(textWrap, textEl) {\n  var speed = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 60;\n  var overflow = textEl.offsetWidth - textWrap.offsetWidth;\n  if (overflow > 0) {\n    textWrap.setAttribute('data-overflow', '');\n    var duration = textEl.offsetWidth / speed;\n    textWrap.style.animationDuration = \"\".concat(duration, \"s\");\n  } else {\n    textWrap.removeAttribute('data-overflow');\n  }\n}\nfunction handleOptions(options) {\n  var _options = Object.assign({}, options);\n  _options.audio = Object.assign({}, options.audio);\n  Object.keys(DEFAULT).forEach(k => {\n    _options[k] = _options[k] || typeof _options[k] === 'boolean' ? _options[k] : DEFAULT[k];\n  });\n  if (typeof _options.container === 'function') {\n    _options.container = _options.container();\n  }\n  var fixedType = CONFIG.fixedOptions.find(item => item === _options.fixed.type);\n  if (!fixedType) {\n    _options.fixed.type = DEFAULT.fixed.type;\n  }\n  if (!Array.isArray(_options.speedOptions)) {\n    _options.speedOptions = [_options.speedOptions];\n  }\n  if (_options.speedOptions.indexOf(1) === -1) {\n    _options.speedOptions.push(1);\n  }\n  _options.speedOptions = _options.speedOptions.map(sp => parseFloat(sp)).filter(sp => !isNaN(sp));\n  if (_options.speedOptions.length > 1) {\n    _options.speedOptions.sort((a, b) => a - b);\n  }\n  return _options;\n}\nfunction handleAudio() {\n  var audio = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var parsedData = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var audioData = Object.assign({}, audio);\n  Object.keys(CONFIG.audioOptions).forEach(k => {\n    audioData[k] = audioData[k] || parsedData[k] || CONFIG.audioOptions[k];\n  });\n  return audioData;\n}\nfunction parseAudio() {\n  return _parseAudio.apply(this, arguments);\n}\nfunction _parseAudio() {\n  _parseAudio = _asyncToGenerator(function* () {\n    var audio = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var parser = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      tags\n    } = (yield parserWrap(audio.src, parser)) || {};\n    var tagData = handleParsedTags(tags);\n    return handleAudio(audio, tagData);\n  });\n  return _parseAudio.apply(this, arguments);\n}\nfunction parserWrap(src, parser) {\n  return new Promise((resolve, reject) => {\n    parser.read(src, {\n      onSuccess: resolve,\n      onError: reject\n    });\n  });\n}\nfunction handleParsedTags() {\n  var tags = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var cover, chapters, duration;\n  var {\n    title,\n    artist\n  } = tags;\n  if (tags.picture && tags.picture.data && tags.picture.format) {\n    var byteArray = new Uint8Array(tags.picture.data);\n    var blob = new Blob([byteArray], {\n      type: tags.picture.format\n    });\n    cover = URL.createObjectURL(blob);\n  }\n  if (tags.TLEN && tags.TLEN.data) {\n    duration = +tags.TLEN.data / 1000;\n  }\n  if (tags.CHAP && tags.CHAP.length) {\n    chapters = tags.CHAP.filter(ch => ch.id === 'CHAP').map(ch => {\n      if (ch.data && ch.data.subFrames && ch.data.subFrames.TIT2) {\n        return {\n          id: ch.data.id,\n          startTime: ch.data.startTime / 1000,\n          endTime: ch.data.endTime / 1000,\n          title: ch.data.subFrames.TIT2.data\n        };\n      }\n      return false;\n    }).sort((a, b) => a.id - b.id);\n  }\n  return {\n    title,\n    artist,\n    cover,\n    duration,\n    chapters\n  };\n}\nfunction createElement(options) {\n  options.tag = options.tag || 'div';\n  var el = document.createElement(options.tag);\n  if (options.className) {\n    if (typeof options.className === 'string') {\n      el.classList.add(options.className);\n    } else {\n      options.className.forEach(className => {\n        el.classList.add(className);\n      });\n    }\n  }\n  if (options.attrs) {\n    Object.keys(options.attrs).forEach(key => {\n      el.setAttribute(key, options.attrs[key]);\n    });\n  }\n  if (options.innerHTML) {\n    el.innerHTML = options.innerHTML;\n  }\n  return el;\n}\nfunction toggleAttribute(el, name) {\n  if (typeof el.toggleAttribute === 'function') {\n    el.toggleAttribute(name);\n    return;\n  }\n  if (el.hasAttribute(name)) {\n    el.removeAttribute(name);\n  } else {\n    el.setAttribute(name, '');\n  }\n}function applyFocusVisiblePolyfill(parent, supportsPassive) {\n  var hadKeyboardEvent = true;\n  var hadFocusVisibleRecently = false;\n  var hadFocusVisibleRecentlyTimeout = null;\n  function isValidFocusTarget(el) {\n    if (el && el !== document && el.nodeName !== 'HTML' && el.nodeName !== 'BODY' && 'classList' in el && 'contains' in el.classList) {\n      return true;\n    }\n    return false;\n  }\n  function addFocusVisibleClass(el) {\n    if (el.classList.contains('focus-visible')) {\n      return;\n    }\n    el.classList.add('focus-visible');\n    el.setAttribute('data-focus-visible-added', '');\n  }\n  function removeFocusVisibleClass(el) {\n    if (!el.hasAttribute('data-focus-visible-added')) {\n      return;\n    }\n    el.classList.remove('focus-visible');\n    el.removeAttribute('data-focus-visible-added');\n  }\n  function onKeyDown(e) {\n    if (e.metaKey || e.altKey || e.ctrlKey) {\n      return;\n    }\n    if (isValidFocusTarget(document.activeElement) && parent.contains(document.activeElement)) {\n      addFocusVisibleClass(document.activeElement);\n    }\n    hadKeyboardEvent = true;\n  }\n  function onPointerDown() {\n    hadKeyboardEvent = false;\n  }\n  function onFocus(e) {\n    if (!isValidFocusTarget(e.target)) {\n      return;\n    }\n    if (hadKeyboardEvent) {\n      addFocusVisibleClass(e.target);\n    }\n  }\n  function onBlur(e) {\n    if (!isValidFocusTarget(e.target)) {\n      return;\n    }\n    if (e.target.classList.contains('focus-visible') || e.target.hasAttribute('data-focus-visible-added')) {\n      hadFocusVisibleRecently = true;\n      window.clearTimeout(hadFocusVisibleRecentlyTimeout);\n      hadFocusVisibleRecentlyTimeout = window.setTimeout(function () {\n        hadFocusVisibleRecently = false;\n      }, 100);\n      removeFocusVisibleClass(e.target);\n    }\n  }\n  function onVisibilityChange() {\n    if (document.visibilityState === 'hidden') {\n      if (hadFocusVisibleRecently) {\n        hadKeyboardEvent = true;\n      }\n      addInitialPointerMoveListeners();\n    }\n  }\n  function addInitialPointerMoveListeners() {\n    parent.addEventListener('mousemove', onInitialPointerMove);\n    parent.addEventListener('mousedown', onInitialPointerMove);\n    parent.addEventListener('mouseup', onInitialPointerMove);\n    parent.addEventListener('pointermove', onInitialPointerMove);\n    parent.addEventListener('pointerdown', onInitialPointerMove);\n    parent.addEventListener('pointerup', onInitialPointerMove);\n    parent.addEventListener('touchmove', onInitialPointerMove, supportsPassive ? {\n      passive: true\n    } : false);\n    parent.addEventListener('touchstart', onInitialPointerMove, supportsPassive ? {\n      passive: true\n    } : false);\n    parent.addEventListener('touchend', onInitialPointerMove, supportsPassive ? {\n      passive: true\n    } : false);\n  }\n  function removeInitialPointerMoveListeners(el) {\n    parent.removeEventListener('mousemove', onInitialPointerMove);\n    parent.removeEventListener('mousedown', onInitialPointerMove);\n    parent.removeEventListener('mouseup', onInitialPointerMove);\n    parent.removeEventListener('pointermove', el);\n    parent.removeEventListener('pointerdown', onInitialPointerMove);\n    parent.removeEventListener('pointerup', onInitialPointerMove);\n    parent.removeEventListener('touchmove', onInitialPointerMove, supportsPassive ? {\n      passive: true\n    } : false);\n    parent.removeEventListener('touchstart', onInitialPointerMove, supportsPassive ? {\n      passive: true\n    } : false);\n    parent.removeEventListener('touchend', onInitialPointerMove, supportsPassive ? {\n      passive: true\n    } : false);\n  }\n  function onInitialPointerMove() {\n    hadKeyboardEvent = false;\n    removeInitialPointerMoveListeners();\n  }\n  parent.addEventListener('keydown', onKeyDown, true);\n  parent.addEventListener('mousedown', onPointerDown, true);\n  parent.addEventListener('pointerdown', onPointerDown, true);\n  parent.addEventListener('touchstart', onPointerDown, supportsPassive ? {\n    passive: true,\n    capture: true\n  } : true);\n  parent.addEventListener('visibilitychange', onVisibilityChange, true);\n  addInitialPointerMoveListeners();\n  parent.addEventListener('focus', onFocus, true);\n  parent.addEventListener('blur', onBlur, true);\n  parent.classList.add('js-focus-visible');\n}var resize,\n    coverUrl = null;\nvar cooldown = true;\nclass UI {\n  constructor(options) {\n    this.mounted = false;\n    if (!document.querySelector('.shk-icons')) {\n      this.icons = createElement({\n        className: 'shk-icons',\n        innerHTML: IconTemplate\n      });\n    }\n    this.initEl();\n    this.initOptions(options);\n  }\n  initEl() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.el = createElement({\n        className: ['shk', 'shikwasa'],\n        attrs: {\n          'data-name': 'shikwasa'\n        },\n        innerHTML: PlayerTemplate\n      });\n      _this.playBtn = _this.el.querySelector('.shk-btn_toggle');\n      _this.fwdBtn = _this.el.querySelector('.shk-btn_forward');\n      _this.bwdBtn = _this.el.querySelector('.shk-btn_backward');\n      _this.speedBtn = _this.el.querySelector('.shk-btn_speed');\n      _this.moreBtn = _this.el.querySelector('.shk-btn_more');\n      _this.muteBtn = _this.el.querySelector('.shk-btn_volume');\n      _this.extraControls = _this.el.querySelector('.shk-controls_extra');\n      _this.texts = _this.el.querySelector('.shk-text');\n      _this.artist = _this.el.querySelector('.shk-artist');\n      _this.artistWrap = _this.el.querySelector('.shk-artist_wrap');\n      _this.titleWrap = _this.el.querySelector('.shk-title_wrap');\n      _this.titleInner = _this.el.querySelector('.shk-title_inner');\n      _this.title = _this.el.querySelector('.shk-title');\n      _this.currentTime = _this.el.querySelector('.shk-time_now');\n      _this.duration = _this.el.querySelector('.shk-time_duration');\n      _this.bar = _this.el.querySelector('.shk-bar');\n      _this.barWrap = _this.el.querySelector('.shk-bar_wrap');\n      _this.audioPlayed = _this.el.querySelector('.shk-bar_played');\n      _this.audioLoaded = _this.el.querySelector('.shk-bar_loaded');\n      _this.handle = _this.el.querySelector('.shk-bar-handle');\n      _this.cover = _this.el.querySelector('.shk-cover');\n      _this.seekControls = [_this.fwdBtn, _this.bwdBtn, _this.handle];\n    })();\n  }\n  initOptions(options) {\n    this.el.style = \"--color-primary: \".concat(options.themeColor);\n    this.el.setAttribute('data-theme', options.theme);\n    if (options.download && options.audio && options.audio.src) {\n      this.downloadBtn = createElement({\n        tag: 'a',\n        className: ['shk-btn', 'shk-btn_download'],\n        attrs: {\n          title: 'download',\n          'aria-label': 'download',\n          href: typeof options.download === 'string' ? options.download : options.audio.src,\n          download: '',\n          target: '_blank',\n          rel: 'noopener noreferrer'\n        },\n        innerHTML:\n        \"\\n          <svg aria-hidden=\\\"true\\\">\\n            <use xlink:href=\\\"#shk-icon_download\\\" />\\n          </svg>\\n        \"\n      });\n      this.extraControls.append(this.downloadBtn);\n    }\n    this.el.setAttribute('data-fixed-type', options.fixed.type);\n    if (options.fixed.type !== 'static' && options.fixed.position === 'top') {\n      this.el.setAttribute('data-fixed-pos', options.fixed.position);\n    }\n    var playStatus = options.autoPlay ? 'playing' : 'paused';\n    this.el.setAttribute('data-play', playStatus);\n    if (options.muted) {\n      this.el.setAttribute('data-mute', '');\n    }\n  }\n  initEvents(supportsPassive) {\n    this.moreBtn.addEventListener('click', () => {\n      toggleAttribute(this.el, 'data-extra');\n    });\n    Array.from(this.extraControls.children).forEach(el => {\n      this.hideExtraControl(el);\n    });\n    applyFocusVisiblePolyfill(this.el, supportsPassive);\n    resize = () => {\n      if (!cooldown) return;\n      cooldown = false;\n      setTimeout(() => cooldown = true, 100);\n      marquee.call(this, this.titleWrap, this.title);\n    };\n    window.addEventListener('resize', resize);\n  }\n  setAudioInfo() {\n    var audio = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (coverUrl) {\n      URL.revokeObjectURL(coverUrl);\n      coverUrl = null;\n    }\n    if (/blob/.test(audio.cover)) {\n      coverUrl = audio.cover;\n    }\n    if (audio.cover) {\n      this.cover.style.backgroundImage = \"url(\".concat(audio.cover, \")\");\n    } else {\n      this.cover.style.backgroundImage = 'none';\n    }\n    this.title.innerHTML = audio.title;\n    this.titleInner.setAttribute('data-title', audio.title);\n    this.artist.innerHTML = audio.artist;\n    if (audio.duration) {\n      this.duration.innerHTML = secondToTime(audio.duration);\n    }\n    if (this.downloadBtn) {\n      this.downloadBtn.href = audio.src;\n    }\n    this.setBar('loaded', 0);\n    this.setLive(audio.live);\n    marquee(this.titleWrap, this.title);\n  }\n  setPlaying() {\n    this.el.setAttribute('data-play', 'playing');\n  }\n  setPaused() {\n    this.el.setAttribute('data-play', 'paused');\n    this.el.removeAttribute('data-loading');\n  }\n  setTime(type, time) {\n    this[type].innerHTML = secondToTime(time);\n  }\n  setBar(type, percentage) {\n    var typeName = 'audio' + type.charAt(0).toUpperCase() + type.substr(1);\n    percentage = Math.min(percentage, 1);\n    percentage = Math.max(percentage, 0);\n    this[typeName].style.width = percentage * 100 + '%';\n    var ariaNow = percentage.toFixed(2);\n    this[typeName].setAttribute('aria-valuenow', ariaNow);\n    this.handle.setAttribute('aria-valuenow', ariaNow);\n  }\n  setProgress() {\n    var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var percentage = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var duration = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    if (time && !percentage) {\n      percentage = duration ? time / duration : 0;\n    } else {\n      time = percentage * (duration || 0);\n    }\n    this.setTime('currentTime', time);\n    this.setBar('played', percentage);\n  }\n  setSpeed(speed) {\n    this.speedBtn.innerHTML = numToString(speed) + 'x';\n  }\n  setLive() {\n    var live = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    live ? this.el.setAttribute('data-live', '') : this.el.removeAttribute('data-live');\n  }\n  getPercentByPos(e) {\n    var handlePos = e.clientX || e.changedTouches && e.changedTouches[0].clientX || 0;\n    var initPos = this.barWrap.getBoundingClientRect().left;\n    var barLength = this.barWrap.clientWidth;\n    var percentage = (handlePos - initPos) / barLength;\n    percentage = Math.min(percentage, 1);\n    percentage = Math.max(0, percentage);\n    return percentage;\n  }\n  hideExtraControl(el) {\n    el.addEventListener('click', () => {\n      setTimeout(() => {\n        this.el.removeAttribute('data-extra');\n      }, 800);\n    });\n  }\n  mount(container, supportsPassive) {\n    container.innerHTML = '';\n    container.append(this.el);\n    if (this.icons) {\n      container.append(this.icons);\n    }\n    this.mounted = true;\n    this.initEvents(supportsPassive);\n    marquee(this.titleWrap, this.title);\n  }\n  destroy() {\n    window.removeEventListener('resize', resize);\n    if (coverUrl) {\n      URL.revokeObjectURL(coverUrl);\n    }\n  }\n}class Events {\n  constructor() {\n    this.audioEvents = ['abort', 'canplay', 'canplaythrough', 'complete', 'durationchange', 'emptied', 'ended', 'error', 'loadeddata', 'loadedmetadata', 'loadstart', 'pause', 'play', 'playing', 'progress', 'ratechange', 'seeked', 'seeking', 'stalled', 'suspend', 'timeupdate', 'volumechange', 'waiting'];\n    this.playerEvents = ['audioupdate', 'audioparse'];\n    this.events = {};\n  }\n  on(name, callback) {\n    if (this.type(name) && typeof callback == 'function') {\n      if (!this.events[name]) {\n        this.events[name] = [];\n      }\n      this.events[name].push(callback);\n    }\n  }\n  trigger(name) {\n    var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (this.events[name] && this.events[name].length) {\n      this.events[name].forEach(fn => fn(data));\n    }\n  }\n  type(name) {\n    if (this.playerEvents.indexOf(name) !== -1) {\n      return 'player';\n    } else if (this.audioEvents.indexOf(name) !== -1) {\n      return 'audio';\n    }\n    console.error(\"Shikwasa: unknown event name: \".concat(name));\n    return null;\n  }\n}var playerArr = [];\nvar REGISTERED_COMPS = [];\nvar isMobile = typeof window !== 'undefined' ? /mobile/i.test(window.navigator.userAgent) : false;\nvar dragStart = isMobile ? 'touchstart' : 'mousedown';\nvar dragMove = isMobile ? 'touchmove' : 'mousemove';\nvar dragEnd = isMobile ? 'touchend' : 'mouseup';\nvar supportsPassive = false;\nif (typeof window !== 'undefined') {\n  try {\n    var opts = Object.defineProperty({}, 'passive', {\n      get: function get() {\n        supportsPassive = true;\n        return false;\n      }\n    });\n    window.addEventListener('testPassvie', null, opts);\n    window.removeEventListener('testPassvie', null, opts);\n  } catch (e) {\n    supportsPassive = false;\n  }\n}\nvar addPassive = supportsPassive && isMobile;\nclass Player {\n  constructor(options) {\n    this.id = playerArr.length;\n    playerArr.push(this);\n    this.comps = {};\n    this._audio = {};\n    this._hasMediaSession = false;\n    this._initSeek = 0;\n    this.live = false;\n    this._canplay = false;\n    this._dragging = false;\n    this.events = new Events();\n    this.options = handleOptions(options);\n    this.renderComponents();\n    this.initUI(this.options);\n    this.initAudio();\n    this.ui.mount(this.options.container, supportsPassive);\n  }\n  get duration() {\n    if (!this.audio || !this.audio.duration) {\n      return this._audio.duration;\n    }\n    return this.audio.duration;\n  }\n  get seekable() {\n    return !this.live && Boolean(this.duration);\n  }\n  set seekable(v) {\n    if (v) {\n      this.ui.seekControls.forEach(el => {\n        el.removeAttribute('disabled');\n      });\n    } else {\n      this.ui.seekControls.forEach(el => {\n        el.setAttribute('disabled', '');\n      });\n    }\n  }\n  get currentTime() {\n    return this.audio ? this.audio.currentTime : undefined;\n  }\n  get playbackRate() {\n    return this.audio ? this.audio.playbackRate : undefined;\n  }\n  set playbackRate(v) {\n    if (this.audio) {\n      this.audio.playbackRate = v;\n      this.audio.defaultPlaybackRate = v;\n    }\n  }\n  get muted() {\n    return this.audio ? this.audio.muted : undefined;\n  }\n  set muted(v) {\n    if (this.audio) {\n      this.audio.muted = v;\n      this.audio.defaultMuted = v;\n    }\n  }\n  initUI() {\n    this.ui = new UI(this.options);\n    this.el = this.ui.el;\n    this.initControlEvents();\n    this.initBarEvents();\n  }\n  initControlEvents() {\n    this.ui.playBtn.addEventListener('click', () => {\n      this.toggle();\n    });\n    this.ui.muteBtn.addEventListener('click', () => {\n      this.muted = !this.muted;\n      toggleAttribute(this.el, 'data-mute');\n    });\n    this.ui.fwdBtn.addEventListener('click', () => {\n      this.seekBySpan();\n    });\n    this.ui.bwdBtn.addEventListener('click', () => {\n      this.seekBySpan({\n        forward: false\n      });\n    });\n    this.ui.speedBtn.addEventListener('click', () => {\n      var index = this.options.speedOptions.indexOf(this.playbackRate);\n      var speedRange = this.options.speedOptions;\n      this.playbackRate = index + 1 >= speedRange.length ? speedRange[0] : speedRange[index + 1];\n      this.ui.setSpeed(this.playbackRate);\n    });\n  }\n  initBarEvents() {\n    var targetTime = 0;\n    var dragStartHandler = e => {\n      if (!this.seekable) return;\n      e.preventDefault();\n      this.el.setAttribute('data-seeking', '');\n      this._dragging = true;\n      document.addEventListener(dragMove, dragMoveHandler, addPassive ? {\n        passive: true\n      } : false);\n      document.addEventListener(dragEnd, dragEndHandler);\n    };\n    var dragMoveHandler = e => {\n      this.ui.setProgress(null, this.ui.getPercentByPos(e), this.duration);\n    };\n    var dragEndHandler = e => {\n      e.preventDefault();\n      document.removeEventListener(dragMove, dragMoveHandler);\n      document.removeEventListener(dragEnd, dragEndHandler);\n      targetTime = this.ui.getPercentByPos(e) * this.duration;\n      this.seek(targetTime);\n      this._dragging = false;\n      setTimeout(() => this.el.removeAttribute('data-seeking'), 50);\n    };\n    var keydownHandler = e => {\n      if (!this.seekable) return;\n      var key = e.key.replace('Arrow', '');\n      var backwardKeys = ['Left', 'Down'];\n      var forwardKeys = ['Right', 'Up'];\n      var largeStepKeys = ['PageDown', 'PageUp'];\n      var edgeKeys = ['Home', 'End'];\n      var isBack = backwardKeys.indexOf(key) !== -1;\n      var isFwd = forwardKeys.indexOf(key) !== -1;\n      var isWayBack = key === largeStepKeys[0];\n      var isWayFwd = key === largeStepKeys[1];\n      var isStart = key === edgeKeys[0];\n      var isEnd = key === edgeKeys[1];\n      if (!isBack && !isFwd && largeStepKeys.indexOf(key) === -1 && edgeKeys.indexOf(key) === -1) {\n        return;\n      }\n      if (isStart) {\n        this.seek(0);\n        return;\n      }\n      if (isEnd) {\n        this.seek(this.duration);\n        return;\n      }\n      var step = (isWayFwd || isWayBack ? 0.1 : 0.01) * (isFwd || isWayFwd ? 1 : -1);\n      var currentTime = this._canplay ? this.currentTime : this._initSeek;\n      var time = step * this.duration + currentTime;\n      this.seek(time);\n    };\n    this.ui.barWrap.addEventListener(dragStart, dragStartHandler);\n    this.ui.handle.addEventListener('keydown', keydownHandler);\n  }\n  initAudio() {\n    if (this.options.audio.src) {\n      this.audio = new Audio();\n      this.initAudioEvents();\n      this.events.audioEvents.forEach(name => {\n        this.audio.addEventListener(name, e => {\n          this.events.trigger(name, e);\n        });\n      });\n      this.audio.preload = this.options.preload;\n      this.muted = this.options.muted;\n      this.update(this.options.audio);\n    }\n  }\n  initAudioEvents() {\n    this.on('play', () => {\n      this.ui.setPlaying();\n      playerArr.forEach(player => {\n        if (player.id !== this.id && player.audio && !player.audio.paused) {\n          player.pause();\n        }\n      });\n    });\n    this.on('pause', () => {\n      this.ui.setPaused();\n    });\n    this.on('ended', () => {\n      this.ui.setPaused();\n      this.seek(0);\n    });\n    this.on('waiting', () => {\n      this.el.setAttribute('data-loading', '');\n    });\n    this.on('durationchange', () => {\n      if (this.duration !== Infinity && this.live) {\n        this.live = false;\n      }\n      if (this.duration && this.duration !== 1 && this.duration !== Infinity) {\n        this.seekable = true;\n        this.ui.setTime('duration', this.duration);\n      }\n    });\n    this.on('canplay', () => {\n      if (!this._canplay) {\n        this._canplay = true;\n        if (this._initSeek) {\n          this.seek(this._initSeek);\n          this._initSeek = 0;\n        }\n      }\n      if (this.duration === Infinity && !this.live) {\n        this.live = true;\n        this.ui.setLive(this.live);\n      }\n    });\n    this.on('canplaythrough', () => {\n      this.el.removeAttribute('data-loading');\n    });\n    this.on('progress', () => {\n      if (this.audio.buffered.length) {\n        var percentage = this.audio.buffered.length ? this.audio.buffered.end(this.audio.buffered.length - 1) / this.duration : 0;\n        this.ui.setBar('loaded', percentage);\n      }\n    });\n    this.on('timeupdate', () => {\n      if (!this._dragging) {\n        this.ui.setProgress(this.audio.currentTime, null, this.duration);\n      }\n    });\n    this.on('abort', () => {\n      this.ui.setPaused();\n    });\n    this.on('audioupdate', audio => {\n      this.seekable = audio.duration && audio.duration !== Infinity;\n      this.updateMetadata(audio);\n    });\n    this.on('audioparse', audio => {\n      this.seekable = audio.duration && audio.duration !== Infinity;\n      this.updateMetadata(audio);\n    });\n  }\n  initMediaSession() {\n    var self = this;\n    if ('mediaSession' in navigator) {\n      this._hasMediaSession = true;\n      this.setMediaMetadata(this._audio);\n      var controls = {\n        play: this.play.bind(self),\n        pause: this.pause.bind(self),\n        seekforward: this.seekBySpan.bind(self),\n        seekbackward: () => this.seekBySpan({\n          forward: false\n        }),\n        seekto: this.seek.bind(self)\n      };\n      Object.keys(controls).forEach(key => {\n        navigator.mediaSession.setActionHandler(key, controls[key]);\n      });\n    }\n  }\n  setMediaMetadata(audio) {\n    var artwork = audio.cover ? [{\n      src: audio.cover,\n      sizes: '150x150'\n    }] : undefined;\n    navigator.mediaSession.metadata = new MediaMetadata({\n      title: audio.title,\n      artist: audio.artist,\n      album: audio.album,\n      artwork\n    });\n  }\n  on(name, callback) {\n    this.events.on(name, callback);\n  }\n  play() {\n    if (!this.audio.paused) return;\n    var promise = this.audio.play();\n    if (promise instanceof Promise) {\n      promise.then(() => {\n        this.initMediaSession();\n      });\n      promise.catch(e => {\n        if (e.name === 'NotAllowedError' || e.name === 'NotSupportedError') {\n          this.pause();\n        }\n      });\n    } else {\n      this.initMediaSession();\n    }\n    return promise;\n  }\n  pause() {\n    if (this.audio.paused) return;\n    this.audio.pause();\n  }\n  toggle() {\n    return this.audio.paused ? this.play() : this.pause();\n  }\n  seek(time) {\n    if (!this.seekable) return;\n    time = parseInt(time);\n    if (isNaN(time)) {\n      console.error('Shikwasa: seeking time is NaN');\n    }\n    time = Math.min(time, this.duration);\n    time = Math.max(time, 0);\n    this.ui.setProgress(time, null, this.duration);\n    if (!this._canplay) {\n      this._initSeek = time;\n    } else {\n      this.audio.currentTime = time;\n    }\n  }\n  seekBySpan() {\n    var {\n      time = 10,\n      forward = true\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var currentTime = this._canplay ? this.audio.currentTime : this._initSeek;\n    var targetTime = currentTime + time * (forward ? 1 : -1);\n    this.seek(targetTime);\n  }\n  update(audio) {\n    if (audio && audio.src) {\n      this._audio = handleAudio(audio);\n      this.live = this._audio.live;\n      this._canplay = false;\n      this.audio.src = this._audio.src;\n      this.events.trigger('audioupdate', this._audio);\n      var metaIncomplete = !audio.title || !audio.artist || !audio.cover || !audio.chapters;\n      if (!this.live && this.options.parser && metaIncomplete) {\n        parseAudio(Object.assign({}, audio), this.options.parser).then(audioData => {\n          this._audio = audioData || this._audio;\n          this.events.trigger('audioparse', this._audio);\n        });\n      }\n    } else {\n      throw new Error('Shikwasa: audio source is not specified');\n    }\n  }\n  updateMetadata(audio) {\n    this.audio.title = audio.title;\n    this.ui.setAudioInfo(audio);\n    if (this._hasMediaSession) {\n      this.setMediaMetadata(audio);\n    }\n  }\n  destroyAudio() {\n    this.audio.pause();\n    this.audio.src = '';\n    this.audio.load();\n    this.audio = null;\n  }\n  destroy() {\n    this.destroyAudio();\n    this.ui.destroy();\n    Object.keys(this.comps).forEach(k => {\n      if (this.comps[k].destroy && typeof this.comps[k].destroy === 'function') {\n        this.comps[k].destroy();\n      }\n    });\n    this.comps = null;\n    this.options.container.innerHTML = '';\n  }\n  renderComponents() {\n    if (!REGISTERED_COMPS.length) return;\n    REGISTERED_COMPS.forEach(comp => {\n      this.comps[comp._name] = new comp(this);\n    });\n  }\n}\nPlayer.use = function (comp) {\n  REGISTERED_COMPS.push(comp);\n};console.log(\"%c\\uD83C\\uDF4A%c Shikwasa Podcast Player v2.1.2 %c https://shikwasa.js.org\", 'background-color:#00869B40;padding:4px;', 'background:#00869B80;color:#fff;padding:4px 0', 'padding: 2px 0;');\nmodule.exports=Player;"],"names":["module","exports","instance","Constructor","TypeError","__esModule","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","_defineProperty","obj","value","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","resize","marquee","textWrap","textEl","speed","arguments","undefined","overflow","offsetWidth","setAttribute","duration","style","animationDuration","concat","removeAttribute","createElement","options","tag","el","document","className","classList","add","forEach","attrs","innerHTML","animateScroll","timestamp","startTime","startPos","distance","scrollEl","t","scrollTop","window","requestAnimationFrame","ts","Chapter","ctx","this","list","initEvents","current","_currentSrc","_chapterPatched","patchPlayer","ui","ChapterUI","on","data","id","newVal","setChapterActive","audio","init","updateList","onTimeupdate","bind","chapterList","clearList","chapters","handleChapters","renderChapterList","clickChapterHandler","handleChapterPanel","map","chap","test","self","defineProperties","get","currentChapter","events","playerEvents","updateChapter","index","setCurrent","seek","play","chapter","_oldCurrentChapter","source","getOwnPropertyDescriptors","_objectSpread2","trigger","oldVal","e","currentTarget","src","direction","searchDirection","currentTime","indexOf","slice","find","ch","time","Math","round","endTime","Array","from","children","chEl","addEventListener","seekable","getAttribute","match","destroy","player","initEl","append","activeChapterEl","title","disabled","chapterBtn","seekControls","extraControls","closeBtn","querySelector","overflowLayer","name","toggleAttribute","hasAttribute","hideExtraControl","text","call","chapterItemEl","renderChapterItem","hour","floor","min","sec","secondToTime","querySelectorAll","scrollIntoView","titleEl","visibility","layerMargin","getComputedStyle","marginTop","listMargin","offsetTop","parseInt","outOfView","offsetHeight","performance","now","removeEventListener","_name","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","_asyncToGenerator","fn","args","err","DEFAULT","container","parser","fixed","type","position","download","themeColor","theme","autoPlay","muted","preload","speedOptions","CONFIG","fixedOptions","audioOptions","artist","NaN","cover","album","live","handleAudio","parsedData","audioData","assign","k","_parseAudio","parserWrap","tags","tagData","handleParsedTags","read","onSuccess","onError","picture","format","byteArray","Uint8Array","blob","Blob","URL","createObjectURL","TLEN","CHAP","subFrames","TIT2","sort","a","b","applyFocusVisiblePolyfill","parent","supportsPassive","hadKeyboardEvent","hadFocusVisibleRecently","hadFocusVisibleRecentlyTimeout","isValidFocusTarget","nodeName","addFocusVisibleClass","contains","onPointerDown","addInitialPointerMoveListeners","onInitialPointerMove","passive","metaKey","altKey","ctrlKey","activeElement","capture","visibilityState","clearTimeout","setTimeout","remove","coverUrl","cooldown","UI","mounted","icons","initOptions","_this","playBtn","fwdBtn","bwdBtn","speedBtn","moreBtn","muteBtn","texts","artistWrap","titleWrap","titleInner","bar","barWrap","audioPlayed","audioLoaded","handle","downloadBtn","href","rel","playStatus","revokeObjectURL","backgroundImage","setBar","setLive","percentage","typeName","charAt","toUpperCase","substr","max","width","ariaNow","toFixed","setTime","num","float","parseFloat","numToString","clientX","changedTouches","getBoundingClientRect","left","clientWidth","Events","audioEvents","callback","console","playerArr","REGISTERED_COMPS","isMobile","navigator","userAgent","dragStart","dragMove","dragEnd","opts","addPassive","Player","comps","_audio","_hasMediaSession","_initSeek","_canplay","_dragging","_options","item","isArray","sp","isNaN","handleOptions","renderComponents","initUI","initAudio","mount","Boolean","v","playbackRate","defaultPlaybackRate","defaultMuted","initControlEvents","initBarEvents","toggle","seekBySpan","forward","speedRange","setSpeed","targetTime","dragMoveHandler","setProgress","getPercentByPos","dragEndHandler","preventDefault","replace","largeStepKeys","edgeKeys","isBack","isFwd","isWayBack","isWayFwd","isStart","isEnd","step","Audio","initAudioEvents","update","setPlaying","paused","pause","setPaused","Infinity","buffered","end","updateMetadata","setMediaMetadata","controls","seekforward","seekbackward","seekto","mediaSession","setActionHandler","artwork","sizes","metadata","MediaMetadata","promise","initMediaSession","catch","Error","metaIncomplete","parseAudio","setAudioInfo","load","destroyAudio","comp","use","log"],"sourceRoot":""}